{"ast":null,"code":"var _jsxFileName = \"D:\\\\xuexishipin\\\\exercise\\\\zhu-fen-exercise\\\\react\\\\zhihu\\\\src\\\\views\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport HomeHead from '../components/HomeHead';\nimport _ from '../assets/utils';\nimport './Home.less';\nimport { Swiper } from 'antd-mobile';\nimport { Link } from 'react-router-dom';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Detail = function () {\n  _s();\n  // 创建所需状态\n  let [today, setToday] = useState(_.formatTime(null, \"{0}{1}{2}\")),\n    [bannerData, setBannerData] = useState();\n\n  // 第一次渲染\n  useEffect(() => {\n    (async () => {\n      try {\n        let {\n          data,\n          stories,\n          top_stories\n        } = await api.queryNewsLatest();\n        setToday(data);\n        console.log();\n        setBannerData(top_stories);\n      } catch (_) {}\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-box\",\n    children: [/*#__PURE__*/_jsxDEV(HomeHead, {\n      today: today\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"swiper-box\",\n      children: bannerData.length > 0 ? /*#__PURE__*/_jsxDEV(Swiper, {\n        autoplay: true,\n        loop: true,\n        children: bannerData.map(item => {\n          let {\n            id,\n            image,\n            title,\n            hint\n          } = item;\n          return /*#__PURE__*/_jsxDEV(Swiper.Item, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/detail/${id}`\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: image,\n                alt: \"\\u56FE\\u7247\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"desc\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"title\",\n                  children: title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 44,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"author\",\n                  children: hint\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 43,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 25\n            }, this)\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 12\n  }, this);\n};\n_s(Detail, \"+c+Usk4ILfSu1Hh/y+uYmwR4mHM=\");\n_c = Detail;\nexport default Detail;\nvar _c;\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","useState","useEffect","HomeHead","_","Swiper","Link","api","Detail","today","setToday","formatTime","bannerData","setBannerData","data","stories","top_stories","queryNewsLatest","console","log","length","map","item","id","image","title","hint","pathname"],"sources":["D:/xuexishipin/exercise/zhu-fen-exercise/react/zhihu/src/views/Home.jsx"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport HomeHead from '../components/HomeHead'\nimport _ from '../assets/utils'\nimport './Home.less'\nimport { Swiper } from 'antd-mobile'\nimport { Link } from 'react-router-dom'\nimport api from '../api'\n\nconst Detail=function(){\n    // 创建所需状态\n    let [today,setToday]=useState(_.formatTime(null,\"{0}{1}{2}\")),\n    [bannerData,setBannerData]=useState();\n\n    // 第一次渲染\n    useEffect(()=>{\n        (async ()=>{\n            try{\n                let {data,stories,top_stories}=await api.queryNewsLatest()\n                setToday(data)\n                console.log()\n                setBannerData(top_stories)\n\n            }catch(_){\n\n            }\n\n\n        })()\n    },[])\n    return <div className=\"home-box\">\n        <HomeHead today={today}/>\n        <div className=\"swiper-box\">\n            {\n                bannerData.length>0?\n                <Swiper autoplay={true} loop={true}>\n                    {bannerData.map((item)=>{\n                        let {id,image,title,hint}=item\n                        return <Swiper.Item key={id}>\n                        <Link to={{\n                            pathname:`/detail/${id}`\n                        }}>\n                            <img src={image} alt=\"图片\"  />\n                            <div className=\"desc\">\n                                <h3 className=\"title\">{title}</h3>\n                                <p className='author'>{hint}</p>\n                            </div>\n                        </Link>\n                    </Swiper.Item>\n\n                    })}\n            </Swiper>:null\n            }\n        </div>\n    </div>\n}\n\n\nexport default Detail\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,QAAQ,EAACC,SAAS,QAAO,OAAO;AAC9C,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,CAAC,MAAM,iBAAiB;AAC/B,OAAO,aAAa;AACpB,SAASC,MAAM,QAAQ,aAAa;AACpC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,GAAG,MAAM,QAAQ;AAAA;AAExB,MAAMC,MAAM,GAAC,YAAU;EAAA;EACnB;EACA,IAAI,CAACC,KAAK,EAACC,QAAQ,CAAC,GAACT,QAAQ,CAACG,CAAC,CAACO,UAAU,CAAC,IAAI,EAAC,WAAW,CAAC,CAAC;IAC7D,CAACC,UAAU,EAACC,aAAa,CAAC,GAACZ,QAAQ,EAAE;;EAErC;EACAC,SAAS,CAAC,MAAI;IACV,CAAC,YAAU;MACP,IAAG;QACC,IAAI;UAACY,IAAI;UAACC,OAAO;UAACC;QAAW,CAAC,GAAC,MAAMT,GAAG,CAACU,eAAe,EAAE;QAC1DP,QAAQ,CAACI,IAAI,CAAC;QACdI,OAAO,CAACC,GAAG,EAAE;QACbN,aAAa,CAACG,WAAW,CAAC;MAE9B,CAAC,QAAMZ,CAAC,EAAC,CAET;IAGJ,CAAC,GAAG;EACR,CAAC,EAAC,EAAE,CAAC;EACL,oBAAO;IAAK,SAAS,EAAC,UAAU;IAAA,wBAC5B,QAAC,QAAQ;MAAC,KAAK,EAAEK;IAAM;MAAA;MAAA;MAAA;IAAA,QAAE,eACzB;MAAK,SAAS,EAAC,YAAY;MAAA,UAEnBG,UAAU,CAACQ,MAAM,GAAC,CAAC,gBACnB,QAAC,MAAM;QAAC,QAAQ,EAAE,IAAK;QAAC,IAAI,EAAE,IAAK;QAAA,UAC9BR,UAAU,CAACS,GAAG,CAAEC,IAAI,IAAG;UACpB,IAAI;YAACC,EAAE;YAACC,KAAK;YAACC,KAAK;YAACC;UAAI,CAAC,GAACJ,IAAI;UAC9B,oBAAO,QAAC,MAAM,CAAC,IAAI;YAAA,uBACnB,QAAC,IAAI;cAAC,EAAE,EAAE;gBACNK,QAAQ,EAAE,WAAUJ,EAAG;cAC3B,CAAE;cAAA,wBACE;gBAAK,GAAG,EAAEC,KAAM;gBAAC,GAAG,EAAC;cAAI;gBAAA;gBAAA;gBAAA;cAAA,QAAI,eAC7B;gBAAK,SAAS,EAAC,MAAM;gBAAA,wBACjB;kBAAI,SAAS,EAAC,OAAO;kBAAA,UAAEC;gBAAK;kBAAA;kBAAA;kBAAA;gBAAA,QAAM,eAClC;kBAAG,SAAS,EAAC,QAAQ;kBAAA,UAAEC;gBAAI;kBAAA;kBAAA;kBAAA;gBAAA,QAAK;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAC9B;YAAA;cAAA;cAAA;cAAA;YAAA;UACH,GATkBH,EAAE;YAAA;YAAA;YAAA;UAAA,QAUjB;QAEd,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QACD,GAAC;IAAI;MAAA;MAAA;MAAA;IAAA,QAEZ;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AACV,CAAC;AAAA,GA9CKf,MAAM;AAAA,KAANA,MAAM;AAiDZ,eAAeA,MAAM;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}