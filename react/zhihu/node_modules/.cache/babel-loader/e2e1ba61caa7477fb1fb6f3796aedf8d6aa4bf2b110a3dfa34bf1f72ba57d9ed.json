{"ast":null,"code":"var _jsxFileName = \"D:\\\\xuexishipin\\\\exercise\\\\zhu-fen-exercise\\\\react\\\\zhihu\\\\src\\\\views\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport HomeHead from '../components/HomeHead';\nimport _ from '../assets/utils';\nimport './Home.less';\nimport { Swiper, Image, Divider, DotLoading } from 'antd-mobile';\nimport { Link } from 'react-router-dom';\nimport api from '../api';\nimport NewsItem from '../components/NewsItem';\nimport SkeletonAgain from '../components/SkeletonAgain';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Detail = function () {\n  _s();\n  // 创建所需状态\n  let [today, setToday] = useState(_.formatTime(null, \"{0}{1}{2}\")),\n    [bannerData, setBannerData] = useState();\n\n  // 第一次渲染\n  useEffect(() => {\n    (async () => {\n      try {\n        let {\n          data,\n          stories,\n          top_stories\n        } = await api.queryNewsLatest();\n        setToday(data);\n        console.log(top_stories, 'top_stories');\n        setBannerData(top_stories);\n      } catch (_) {}\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-box\",\n    children: [/*#__PURE__*/_jsxDEV(HomeHead, {\n      today: today\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"swiper-box\",\n      children: (bannerData === null || bannerData === void 0 ? void 0 : bannerData.length) > 0 ? /*#__PURE__*/_jsxDEV(Swiper, {\n        autoplay: true,\n        loop: true,\n        children: bannerData.map(item => {\n          let {\n            id,\n            image,\n            title,\n            hint\n          } = item;\n          return /*#__PURE__*/_jsxDEV(Swiper.Item, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/detail/${id}`\n              },\n              children: [/*#__PURE__*/_jsxDEV(Image, {\n                src: image,\n                lazy: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"desc\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"title\",\n                  children: title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"author\",\n                  children: hint\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 25\n            }, this)\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(SkeletonAgain, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-box\",\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        contentPosition: \"left\",\n        children: \"12\\u670823\\u65E5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list\",\n        children: [/*#__PURE__*/_jsxDEV(NewsItem, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(NewsItem, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(NewsItem, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loadmore-box\",\n      children: /*#__PURE__*/_jsxDEV(DotLoading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 12\n  }, this);\n};\n_s(Detail, \"+c+Usk4ILfSu1Hh/y+uYmwR4mHM=\");\n_c = Detail;\nexport default Detail;\nvar _c;\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","useState","useEffect","HomeHead","_","Swiper","Image","Divider","DotLoading","Link","api","NewsItem","SkeletonAgain","Detail","today","setToday","formatTime","bannerData","setBannerData","data","stories","top_stories","queryNewsLatest","console","log","length","map","item","id","image","title","hint","pathname"],"sources":["D:/xuexishipin/exercise/zhu-fen-exercise/react/zhihu/src/views/Home.jsx"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport HomeHead from '../components/HomeHead'\nimport _ from '../assets/utils'\nimport './Home.less'\nimport { Swiper,Image, Divider, DotLoading } from 'antd-mobile'\nimport { Link } from 'react-router-dom'\nimport api from '../api'\nimport NewsItem from '../components/NewsItem'\nimport SkeletonAgain from '../components/SkeletonAgain'\n\nconst Detail=function(){\n    // 创建所需状态\n    let [today,setToday]=useState(_.formatTime(null,\"{0}{1}{2}\")),\n    [bannerData,setBannerData]=useState();\n\n    // 第一次渲染\n    useEffect(()=>{\n        (async ()=>{\n            try{\n                let {data,stories,top_stories}=await api.queryNewsLatest()\n                setToday(data)\n                console.log(top_stories,'top_stories')\n                setBannerData(top_stories)\n\n            }catch(_){\n\n            }\n\n\n        })()\n    },[])\n    return <div className=\"home-box\">\n        <HomeHead today={today}/>\n        <div className=\"swiper-box\">\n            {\n                bannerData?.length>0?\n                <Swiper autoplay={true} loop={true}>\n                    {bannerData.map((item)=>{\n                        let {id,image,title,hint}=item\n                        return <Swiper.Item key={id}>\n                        <Link to={{\n                            pathname:`/detail/${id}`\n                        }}>\n                            <Image src={image} lazy />\n                            <div className=\"desc\">\n                                <h3 className=\"title\">{title}</h3>\n                                <p className='author'>{hint}</p>\n                            </div>\n                        </Link>\n                    </Swiper.Item>\n\n                    })}\n            </Swiper>:null\n            }\n        </div>\n        {/* 新闻列表 */}\n        <SkeletonAgain></SkeletonAgain>\n        <div className=\"news-box\">\n            <Divider contentPosition='left'>12月23日</Divider>\n            <div className=\"list\">\n                <NewsItem />\n                <NewsItem />\n                <NewsItem />\n            </div>\n        </div>\n\n        {/* 加载更多 */}\n        <div className=\"loadmore-box\">\n            <DotLoading/>\n        </div>\n    </div>\n}\n\n\nexport default Detail\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}