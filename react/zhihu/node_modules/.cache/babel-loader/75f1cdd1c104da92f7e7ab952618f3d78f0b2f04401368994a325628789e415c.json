{"ast":null,"code":"import { take, takeEvery, takeLatest, throttle, debounce, call, apply, fork, delay, put, select } from 'redux-saga/effects';\nimport * as TYPES from './action-types';\nconst api = {\n  queryData(id, name) {\n    console.log('接口被调用', id, name);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        let result = {\n          code: 0,\n          data: [10, 20, 30, 40]\n        };\n        resolve(result);\n      }, 2000);\n    });\n  },\n  queryBanner(id, name) {\n    console.log('接口被调用', id, name);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        let result = {\n          code: 0,\n          data: [10, 20, 30, 40]\n        };\n        resolve(result);\n      }, 2000);\n    });\n  }\n};\n// 创建执行函数，再任务被监听后，去做异步操作[Generator函数]\nconst workingCount = function* workingCount(action) {\n  console.log('被监听到了', action);\n  // yield delay(2000)//启动一个延迟函数 模拟向服务器发送请求\n  let {\n    code,\n    data\n  } = yield apply(null, api.queryData, [108, '珠峰']);\n  console.log(code, data, '************');\n\n  // 派发任务，通知reducer执行\n  yield put({\n    type: TYPES.DEMO_COUNT,\n    payload: action.payload\n  });\n};\n\n// 创建监听器，监听派发的仍无\nconst saga = function* saga() {\n  yield takeLatest(`${TYPES.DEMO_COUNT}@SAGA@`, workingCount);\n};\nexport default saga;","map":{"version":3,"names":["take","takeEvery","takeLatest","throttle","debounce","call","apply","fork","delay","put","select","TYPES","api","queryData","id","name","console","log","Promise","resolve","setTimeout","result","code","data","queryBanner","workingCount","action","type","DEMO_COUNT","payload","saga"],"sources":["D:/xuexishipin/exercise/zhu-fen-exercise/react/zhihu/src/store2/saga.js"],"sourcesContent":["import {take,takeEvery,takeLatest,throttle,debounce,call,apply,fork,delay,put,select} from 'redux-saga/effects'\nimport * as TYPES from './action-types'\n\n\nconst api={\n  queryData(id,name){\n    console.log('接口被调用',id,name)\n    return new Promise(resolve=>{\n      setTimeout(()=>{\n        let result={\n          code:0,\n          data:[10,20,30,40]\n        }\n        resolve(result)\n      },2000)\n    })\n  },\n  queryBanner(id,name){\n    console.log('接口被调用',id,name)\n    return new Promise(resolve=>{\n      setTimeout(()=>{\n        let result={\n          code:0,\n          data:[10,20,30,40]\n        }\n        resolve(result)\n      },2000)\n    })\n  }\n}\n// 创建执行函数，再任务被监听后，去做异步操作[Generator函数]\nconst workingCount=function* workingCount(action){\n  console.log('被监听到了',action)\n  // yield delay(2000)//启动一个延迟函数 模拟向服务器发送请求\n  let {code,data}=yield apply(null,api.queryData,[108,'珠峰'])\n  console.log(code,data,'************')\n\n  // 派发任务，通知reducer执行\n  yield put({\n    type:TYPES.DEMO_COUNT,\n    payload:action.payload\n  })\n\n\n\n\n\n}\n\n// 创建监听器，监听派发的仍无\nconst saga=function* saga(){\n  yield takeLatest(`${TYPES.DEMO_COUNT}@SAGA@`,workingCount)\n\n}\n\n\nexport default saga"],"mappings":"AAAA,SAAQA,IAAI,EAACC,SAAS,EAACC,UAAU,EAACC,QAAQ,EAACC,QAAQ,EAACC,IAAI,EAACC,KAAK,EAACC,IAAI,EAACC,KAAK,EAACC,GAAG,EAACC,MAAM,QAAO,oBAAoB;AAC/G,OAAO,KAAKC,KAAK,MAAM,gBAAgB;AAGvC,MAAMC,GAAG,GAAC;EACRC,SAAS,CAACC,EAAE,EAACC,IAAI,EAAC;IAChBC,OAAO,CAACC,GAAG,CAAC,OAAO,EAACH,EAAE,EAACC,IAAI,CAAC;IAC5B,OAAO,IAAIG,OAAO,CAACC,OAAO,IAAE;MAC1BC,UAAU,CAAC,MAAI;QACb,IAAIC,MAAM,GAAC;UACTC,IAAI,EAAC,CAAC;UACNC,IAAI,EAAC,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE;QACnB,CAAC;QACDJ,OAAO,CAACE,MAAM,CAAC;MACjB,CAAC,EAAC,IAAI,CAAC;IACT,CAAC,CAAC;EACJ,CAAC;EACDG,WAAW,CAACV,EAAE,EAACC,IAAI,EAAC;IAClBC,OAAO,CAACC,GAAG,CAAC,OAAO,EAACH,EAAE,EAACC,IAAI,CAAC;IAC5B,OAAO,IAAIG,OAAO,CAACC,OAAO,IAAE;MAC1BC,UAAU,CAAC,MAAI;QACb,IAAIC,MAAM,GAAC;UACTC,IAAI,EAAC,CAAC;UACNC,IAAI,EAAC,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE;QACnB,CAAC;QACDJ,OAAO,CAACE,MAAM,CAAC;MACjB,CAAC,EAAC,IAAI,CAAC;IACT,CAAC,CAAC;EACJ;AACF,CAAC;AACD;AACA,MAAMI,YAAY,GAAC,UAAUA,YAAY,CAACC,MAAM,EAAC;EAC/CV,OAAO,CAACC,GAAG,CAAC,OAAO,EAACS,MAAM,CAAC;EAC3B;EACA,IAAI;IAACJ,IAAI;IAACC;EAAI,CAAC,GAAC,MAAMjB,KAAK,CAAC,IAAI,EAACM,GAAG,CAACC,SAAS,EAAC,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;EAC1DG,OAAO,CAACC,GAAG,CAACK,IAAI,EAACC,IAAI,EAAC,cAAc,CAAC;;EAErC;EACA,MAAMd,GAAG,CAAC;IACRkB,IAAI,EAAChB,KAAK,CAACiB,UAAU;IACrBC,OAAO,EAACH,MAAM,CAACG;EACjB,CAAC,CAAC;AAMJ,CAAC;;AAED;AACA,MAAMC,IAAI,GAAC,UAAUA,IAAI,GAAE;EACzB,MAAM5B,UAAU,CAAE,GAAES,KAAK,CAACiB,UAAW,QAAO,EAACH,YAAY,CAAC;AAE5D,CAAC;AAGD,eAAeK,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}