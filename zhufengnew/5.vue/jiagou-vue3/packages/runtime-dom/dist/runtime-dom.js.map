{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/class.ts", "../src/modules/style.ts", "../src/modules/event.ts", "../src/modules/attr.ts", "../src/patchProp.ts", "../../shared/src/index.ts", "../../runtime-core/src/createVnode.ts", "../../runtime-core/src/seq.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/ref.ts", "../../reactivity/src/handler.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/apiWatch.ts", "../../reactivity/src/computed.ts", "../../runtime-core/src/scheduler.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts", "../src/index.ts"],
  "sourcesContent": ["export const nodeOps={\n  // \u521B\u5EFA\u5143\u7D20\n  createElement(element){\n    return document.createElement(element)\n  },\n  // \u521B\u5EFA\u6587\u672C\n  createText(text){\n    return document.createTextNode(text)\n  },\n  // \u5BF9\u5143\u7D20\u7684\u63D2\u5165\n  insert(element,container,anchor=null){\n    // appendChild(element) = insertBefore(element,null)\n    container.insertBefore(element,anchor)\n  },\n  remove(child){\n    const parent=child.parentNode;\n    if(parent){\n      parent.removeChild(child)\n    }\n  },\n  // \u5143\u7D20\u67E5\u8BE2\n  querySelector(selector){\n    return document.querySelector(selector)\n  },\n  // \u8BBE\u7F6E\u6587\u672C\u5185\u5BB9  innerHTML\n  setElementText(element,text){\n    element.textContent=text;//\u8BBE\u7F6E\u5143\u7D20\u7684\u5185\u5BB9\n  },\n  setText(textNode,text){\n    textNode.nodeValue=text\n  },\n  createComment:(text)=>document.createComment(text)\n\n}", "export function patchClass(el,nextVal){\n  if(nextVal==null){\n    el.removeAttribute('class')\n  }else{\n    el.className=nextVal\n  }\n\n}", "export function patchStyle(el,prevVal,nextVal){\n  const style=el.style;//\u6700\u7EC8\u7684\u64CD\u4F5C\u5C31\u662F\u4ED6\n  if(nextVal){\n    // \u8FD9\u4E9B\u4E00\u5B9A\u662F\u8981\u751F\u6548\u7684\n\n    for(let key in nextVal){\n      style[key]=nextVal[key];//\u7528\u65B0\u7684\u6837\u5F0F\u76F4\u63A5\u6DFB\u52A0\u5373\u53EF\n\n    }\n  }\n\n  if(prevVal){\n    for(let key in prevVal){\n      if(nextVal?.[key]==null){\n        style[key]=null;//\u5220\u9664\u8001\u5BF9\u8C61\u4E2D\u7684\u6837\u5F0F\u5373\u53EF\n      }\n    }\n  }\n\n}", "function createInvoker(nextVal){\n  const fn=(e)=>fn.value(e)\n  fn.value=nextVal\n  return fn\n}\n\n\nexport function patchEvent(el,rawName,nextVal){\n  // remove add\n  // el.addEventListener(key.slice(2).toLowerCase,nextVal,fn)\n  // fn1,fn2\n  // const fn=()=>{fn.value()}\n\n  // fn.value=fn2\n  // \n\n  const invokers=el._vei||(el._vei={});//\u7F13\u5B58\u5217\u8868\n\n  let eventName=rawName.slice(2).toLowerCase()\n\n  // \u770B\u4E00\u4E0B\u662F\u5426\u7ED1\u5B9A\u8FC7\u8FD9\u4E2A\u6761\u4EF6\n  const existingInvoker=invokers[eventName]\n\n  if(nextVal && existingInvoker){\n    // \u6709\u65B0\u503C\u5E76\u4E14\u7ED1\u5B9A\u4E8B\u4EF6   \u9700\u8981\u6362\u7ED1\u64CD\u4F5C\u3001\n    existingInvoker.value=nextVal\n\n  }else{\n    // \u8FD9\u91CC\u610F\u5473\u7740\u4E0D\u5B58\u5728\u7ED1\u5B9A\u8FC7\n    if(nextVal){\n      const invoker = (invokers[eventName] = createInvoker(nextVal))\n      el.addEventListener(eventName,invoker)\n      // \u6709\u6CA1\u6709\u65B0\u7684\u4E8B\u4EF6\n    }else if(existingInvoker){\n      // \u6CA1\u6709\u65B0\u503C,\u4F46\u662F\u4E4B\u524D\u7ED1\u5B9A\u8FC7\u4E8B\u4EF6\u4E86\n      el.removeEventListener(eventName,existingInvoker)\n      invokers[eventName] = null\n\n    }\n  }\n\n}\n", "export function patchAttr(el,key,nextVal){\n  if(nextVal){\n    el.setAttribute(key,nextVal)\n  }else{\n    el.removeAttribute(key)\n  }\n\n}", "import { patchClass } from './modules/class'\nimport { patchStyle } from './modules/style'\nimport { patchEvent } from './modules/event'\nimport { patchAttr } from './modules/attr'\n\n\nexport function patchProp(el,key,prevVal,nextVal){\n  // \u6839\u636EpreVal \u548C nextVal \u505Adiff\u6765\u66F4\u65B0\n  // {color:red} {background:red}\n\n  if(key==='class'){\n    patchClass(el,nextVal)\n  }else if(key==='style'){\n    // \u5982\u4F55\u6BD4\u8F83\u4E24\u4E2A\u5BF9\u8C61\u7684\u5DEE\u5F02\u5462\uFF1F\n    patchStyle(el,prevVal,nextVal)\n\n  }else if(/^on[^a-z]/.test(key)){\n    patchEvent(el,key,nextVal)\n\n  }else{\n    patchAttr(el,key,nextVal)\n  }\n}\n\n", "export const isObject=(value)=>{\n  return value!=null &&typeof value==='object'\n}\n\nexport const isFunction=(value)=>{\n  return typeof value==='function';\n}\n\nexport function isString(value){\n  return typeof value=='string'\n\n}\n\n\nexport * from './shapeFlag'", "import { isObject, isString,ShapeFlags } from '@vue/shared';\nexport const Text=Symbol()\nexport const Fragment=Symbol()\nexport function isVNode(value){\n  return !!value.__v_isVNode;//\u7528\u6765\u5224\u65AD\u662F\u5426\u662F\u865A\u62DF\u8282\u70B9\n\n}\n\nexport function isSameVnode(n1,n2){//\u5982\u679C\u524D\u540E\u6CA1\u6709Key \u90FD\u662Fundefined \u4ECD\u4E3Akey\u662F\u4E00\u6837\u7684\n  return n1.type===n2.type&&n1.key==n2.key\n\n}\nexport function createVNode(type,props,children=null){\n  // \u865A\u62DF\u8282\u70B9\u9700\u8981\u4E00\u4E9B\u91CD\u8981\u7684\u5C5E\u6027  type \u662F\u5BF9\u8C61 \u8BF4\u660E\u662F\u4E00\u4E2A\u7EC4\u4EF6\u4E86\n  console.log(type,'type')\n  const shapeFlag=isString(type)?ShapeFlags.ELEMENT:(isObject(type)?ShapeFlags.STATEFUL_COMPONENT:0)\n  const vnode={\n    __v_isVNode:true,//\u5224\u65AD\u5BF9\u8C61\u662F\u4E0D\u662F\u865A\u62DF\u63A5\u5F85\u4F60\n    type,\n    props,\n    children,\n    key:props?.key,//\u865A\u62DF\u8282\u70B9\u7684key \u4E3B\u8981\u7528\u4E8Ediff\u7B97\u6CD5\n    el:null,//\u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u63A5\u5F85\u4F60\n    shapeFlag\n\n  }\n\n  if(children){\n    let type=0\n    if(Array.isArray(children)){\n      // \u81EA\u5DF1\u662F\u5143\u7D20 \u513F\u5B50\u662F\u6570\u7EC4\n      type=ShapeFlags.ARRAY_CHILDREN\n    }else{\n      vnode.children=String(children)\n      type=ShapeFlags.TEXT_CHILDREN\n    }\n\n    vnode.shapeFlag|=type\n  }\n\n  return vnode\n\n\n}", "// \u5982\u4F55\u6C42\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217  \u6700\u7EC8\u5E8F\u5217\u7684\u7D22\u5F15\u662F\u6211\u4EEC\u8981\u7684\u7ED3\u679C\n\n// \u5148\u6C42\u51FA\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u7684\u4E2A\u6570\n\n// 3 5 7 6 2 8 8 11 4 10  (\u8D2A\u5FC3+\u4E8C\u5206\u67E5\u627E)\n\n// \u627E\u66F4\u6709\u6F5C\u529B\u7684\u4E00\u9879 \u4F5C\u4E3A\u672B\u5C3E\n\n\n// [1,2,3,4,5,6,7,8,9]\n\n\n// 0 \u4E5F\u5FFD\u7565\u6389  0\u662F\u65B0\u589E\nexport function getSeq(arr){\n  const result=[0]\n  const len=arr.length\n\n  const p=arr.slice(0).fill(-1);//\u7528\u6765\u5B58\u50A8\u6807\u8BB0\u7684\u7D22\u5F15,\u5185\u5BB9\u65E0\u6240\u8C13  \u4E3B\u8981\u662F\u548C\u6570\u7EC4\u7684\u957F\u5EA6\u4E00\u81F4\n\n\n  let start;\n  let end;\n  let middle;\n  for(let i=0;i<len;i++){\n    const arrI=arr[i]\n    if(arrI!==0){\n      let resultLastIndex=result[result.length-1];//\u83B7\u53D6\u7ED3\u679C\u96C6\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\n\n      // \u548CarrI \u4E2D\u7684\u53BB\u6BD4\u8F83\n      if(arr[resultLastIndex]<arrI){\n        result.push(i)\n        p[i]=resultLastIndex\n        continue\n      }\n      // \u5982\u679C\u6BD4\u5F53\u524D\u672B\u5C3E\u5C0F \u9700\u8981\u901A\u8FC7\u4E8C\u5206\u67E5\u627E\u627E\u5230\u6BD4\u5F53\u524D\u8FD9\u4E00\u9879\u5927\u7684\u7528\u8FD9\u4E00\u9879\u66FF\u6362\u6389\u4ED6\n      start=0;\n      end=result.length-1;\n\n      while(start<end){\n        middle=((start+end)/2)|0;//\u5411\u4E0B\u53D6\u503C\n\n\n        if(arr[result[middle]]<arrI){\n          start = middle + 1;\n        }else{\n          end = middle\n        }\n      }\n\n      // \u6700\u7EC8start   \u548C  end \u4F1A\u91CD\u5408\n      p[i]=result[start -1];//\u8BB0\u5F55\u524D\u4E00\u4E2A\u4EBA\u7684\u7D22\u5F15\n      result[start]=i;//\u76F4\u63A5\u7528\u5F53\u524D\u7684\u7D22\u5F15\u6362\u6389\n\n    }\n  }\n\n\n\n  // \u5B9E\u73B0\u5012\u5E8F\u8FFD\u8E2A\n  let i=result.length;//\u603B\u957F\u5EA6\n  let last=result[i-1];//\u83B7\u53D6\u6700\u540E\u4E00\u9879\n\n  while(i-->0){\n    result[i]=last;//\u6700\u540E\u4E00\u9879\u662F\u6B63\u786E\n    last=p[last];//\u901A\u8FC7\u6700\u540E\u4E00\u9879\u627E\u5230\u5BF9\u5E94\u7684\u7ED3\u679C \u5C06\u4ED6\u4F5C\u4E3A\u6700\u540E\u4E00\u9879\u6765\u8FDB\u884C\u8FFD\u8E2A\n  }\n\n\n\n  return result\n\n}\n\n\n", "export let activeEffect=undefined\n\nfunction cleanupEffect(effect){\n  const {deps}=effect\n\n  for(let i = 0;i<deps.length;i++){\n    // \u627E\u5230set \u8BA9set\u79FB\u9664\u6389\u81EA\u5DF1\n    deps[i].delete(effect)\n  }\n\n  effect.deps.length=0;//\u6E05\u7A7A\u4F9D\u8D56\u7684\u5217\u8868\n\n}\n\n\nexport class ReactiveEffect{\n  // \u9ED8\u8BA4\u4F1A\u5C06fn\u6302\u8F7D\u5230\u6765\u7684\u5B9E\u4F8B\u4E0A\n  constructor(private fn,public scheduler?){\n\n  }\n\n  parent=undefined\n  deps=[];//\u6211\u4F9D\u8D56\u4E86\u54EA\u4E9B\u5C5E\u6027\n\n  active=true\n\n  run(){\n    // \u5931\u6D3B\u6001\u9ED8\u8BA4\u8C03\u7528run\u7684\u65F6\u5019  \u53EA\u662F\u91CD\u65B0\u6267\u884C\n    // \u4E0D\u4F1A\u53D1\u751F\u4F9D\u8D56\u6536\u96C6\n    if(!this.active){\n      return this.fn()\n    }\n    try{\n      this.parent=activeEffect\n      activeEffect=this\n\n      cleanupEffect(this)\n\n      return this.fn()//fn()\u4F1A\u89E6\u53D1\u4F9D\u8D56\u6536\u96C6\n    }finally{\n      activeEffect=this.parent\n      this.parent=undefined\n    }\n  }\n\n  stop(){\n    if(this.active){\n      // \u5931\u6D3B\u7684\u610F\u601D\u5C31\u662F\u505C\u6B62\u4F9D\u8D56\u6536\u96C6\n       this.active=false\n       cleanupEffect(this)\n    }\n  }\n}\n\n\nexport function effect(fn){\n  // \u521B\u5EFA\u4E00\u4E2A\u54CD\u5E94\u5F0Feffect  \u5E76\u4E14\u8BA9effect\u6267\u884C\n  const _effect=new ReactiveEffect(fn)\n  _effect.run()\n\n  // \u628Arunner\u65B9\u6CD5\u76F4\u63A5\u7ED9\u7528\u6237  \u7528\u6237\u53EF\u4EE5\u53BB\u8C03\u7528effect\u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\n  const runner=_effect.run.bind(_effect)\n  // \u53EF\u4EE5\u901A\u8FC7runner \u62FF\u5230effect\u4E2D\u6240\u6709\u5C5E\u6027\n  runner.effect=_effect\n\n  return runner\n}\n\n\n\nconst targetMap=new WeakMap()\nexport function track(target,key){\n  // \u8BA9\u8FD9\u4E2A\u5BF9\u8C61\u4E0A\u7684\u5C5E\u6027  \u8BB0\u5F55\u5F53\u524D\u7684activeEffect\n\n  if(activeEffect){\n    // \u8BF4\u660E\u7528\u6237\u5728effect\u4E2D\u4F7F\u7528\u7684\u8FD9\u4E2A\u6570\u636E\n    let depsMap=targetMap.get(target)\n\n    // \u5982\u679C\u6CA1\u6709\u521B\u5EFA\u4E00\u4E2A\u6620\u5C04\u8868\n    if(!depsMap){\n      targetMap.set(target,(\n        depsMap=new Map()\n      ))\n    }\n\n    // \u5982\u679C\u6709\u8FD9\u4E2A\u6620\u5C04\u8868\u6765\u67E5\u627E\u4E00\u4E0B\u6709\u6CA1\u6709\u8FD9\u4E2A\u5C5E\u6027\n    let dep=depsMap.get(key);\n    if(!dep){\n      depsMap.set(key,(dep=new Set()))\n    }\n\n    trackEffects(dep)\n\n\n  }\n\n}\n\n\nexport function trackEffects(dep){\n      // \u5982\u679C\u6709\u5219\u770B\u4E00\u4E0Bset\u4E2D\u6709\u6CA1\u6709\u8FD9\u4E2Aeffect\n    let shouldTrack=!dep.has(activeEffect)\n    if(shouldTrack){\n      dep.add(activeEffect)\n\n      // name = new Set(effect)\n      // age = new Set(effect)\n\n      // \u6211\u53EF\u4EE5\u901A\u8FC7\u5F53\u524D\u7684effect \u627E\u5230\u8FD9\u4E24\u4E2A\u96C6\u5408\u4E2D\u7684\u81EA\u5DF1  \u5C06\u5176\u79FB\u9664\u6389\u5C31\u53EF\u4EE5\u4E86\n\n\n\n      activeEffect.deps.push(dep)\n    }\n}\n\n\nexport function trigger(target,key,value,oldValue){\n  // \u901A\u8FC7\u5BF9\u8C61\u627E\u5230\u5BF9\u5E94\u7684\u5C5E\u6027  \u8BA9\u8FD9\u4E2A\u5C5E\u6027\u5BF9\u5E94\u7684effect\u91CD\u65B0\u6267\u884C\n  const depsMap=targetMap.get(target)\n\n  if(!depsMap){\n    return\n  }\n\n  const dep=depsMap.get(key);//name \u6216\u8005 age \u5BF9\u5E94\u6240\u6709\u7684effect\n\n  triggerEffects(dep)\n\n\n\n}\n\nexport function triggerEffects(dep){\n  if(!dep) return\n    const effects=[...dep]\n\n  effects&&effects.forEach(effect => {\n    // \u6B63\u5728\u6267\u884C\u7684effect \u4E0D\u8981\u591A\u6B21\u6267\u884C\n    if(effect!==activeEffect){\n      if(effect.scheduler){\n         effect.scheduler();//\u7528\u6237\u4F20\u9012\u4E86\u5BF9\u5E94\u7684\u66F4\u65B0\u51FD\u6570\u89C4\u5219\n        //  \u5982\u679C\u7528\u6237\u6CA1\u6709\u4F20\u9012\u5219\u9ED8\u8BA4\u5C31\u662F\u91CD\u65B0\u8FD0\u884Ceffect\u51FD\u6570\n      }else{\n         effect.run()\n      }\n    }\n  });\n}", "import { isObject } from '@vue/shared';\nimport {reactive} from './reactive'\nimport { trackEffects, triggerEffects } from './effect';\nexport function isRef(value){\n  return !!(value&&value.__v_isRef)\n\n}\n\nexport function toReactive(value){\n  return isObject(value)?reactive(value):value\n\n}\n\n\n\nclass RefImpl{\n  public _value;\n  public dep=new Set()\n  public __v_isRef = true\n  constructor(public rawValue){\n    this._value=toReactive(rawValue)\n\n  }\n\n  get value(){\n    trackEffects(this.dep)\n    return this._value\n  }\n\n  set value(newVal){\n    if(newVal!==this.rawValue){\n      this.rawValue=newVal\n      this._value=toReactive(newVal)\n      triggerEffects(this.dep)\n    }\n\n  }\n}\n\n\nexport function ref(value){\n  return new RefImpl(value)\n\n}", "import { reactive, ReactiveFlags } from './reactive'\nimport {track,trigger} from './effect'\nimport { isObject } from '@vue/shared'\nimport { isRef } from './ref'\n\nexport const mutableHandlers={\n    get(target,key,receiver){\n      // \u53D6\u503C\u7684\u65F6\u5019\n      // \u6211\u4EEC\u5728\u4F7F\u7528proxy\u7684\u65F6\u5019\u8981\u642D\u914Dreflect\u6765\u4F7F\u7528  \u7528\u6765\u89E3\u51B3this\u95EE\u9898\n      if(key==ReactiveFlags.IS_REACTIVE){\n        return true\n      }\n\n      // \u5982\u679C\u5728\u53D6\u503C\u7684\u65F6\u5019\u53D1\u73B0\u53D6\u51FA\u6765\u7684\u503C\u662F\u5BF9\u8C61 \u90A3\u4E48\u518D\u6B21\u8FDB\u884C\u4EE3\u7406 \u8FD4\u56DE\u4EE3\u7406\u540E\u7684\u7ED3\u679C\n      if(isObject(target[key])){\n        return reactive(target[key])\n      }\n\n      if(isRef(target[key])){\n        return target[key].value\n      }\n\n\n\n      // \u505A\u4F9D\u8D56\u6536\u96C6  \u8BB0\u5F55\u5C5E\u6027\u548C\u5F53\u524Deffect\u7684\u5173\u7CFB\n      const res=Reflect.get(target,key,receiver)\n      track(target,key)\n\n      return res\n    },\n    set(target,key,value,receiver){\n      // \u66F4\u65B0\u6570\u636E\n\n      // \u627E\u5230\u8FD9\u4E2A\u6570\u5B57\u5BF9\u5E94\u7684effect\u8BA9\u4ED6\u6267\u884C\n      let oldValue=target[key]\n\n      const r=Reflect.set(target,key,value,receiver)\n\n      if(oldValue!==value){\n        trigger(target,key,value,oldValue)\n      }\n     \n      return r\n    }\n  }", "import { isObject } from '@vue/shared';\nimport { mutableHandlers } from './handler';\n\nexport enum ReactiveFlags {\n  IS_REACTIVE='__v_isReactive'\n}\n\nconst reactiveMap=new WeakMap()\nexport function reactive(target){\n  // reactive \u53EA\u80FD\u5904\u7406\u5BF9\u8C61\u7C7B\u578B\u7684\u6570\u636E  \u4E0D\u662F\u5BF9\u8C61\u4E0D\u5904\u7406\n  if(!isObject(target)) return target\n\n  // \u7F13\u5B58\u53EF\u4EE5\u91C7\u7528\u6620\u5C04\u8868  {{target}->proxy}\n\n  let existingProxy=reactiveMap.get(target)\n\n  if(existingProxy) return existingProxy\n\n  if(target[ReactiveFlags.IS_REACTIVE]){\n    return target\n  }\n\n\n  const proxy=new Proxy(target,mutableHandlers)\n\n  reactiveMap.set(target,proxy)\n\n  return proxy\n\n}\n\nexport function isReactive(value){\n  return value[ReactiveFlags.IS_REACTIVE]\n\n}", "// watch api \u7528\u6CD5\u5F88\u591A,\u5E38\u89C1\u5199\u6CD5\u5C31\u662F\u76D1\u63A7\u4E00\u4E2A\u51FD\u6570\u7684\u8FD4\u56DE\u503C \u6839\u636E\u8FD4\u56DE\u503C\u7684\u53D8\u5316\u89E6\u53D1\u5BF9\u5E94\u7684\u51FD\u6570\n// watch \u53EF\u4EE5\u4F20\u9012\u4E00\u4E2A\u54CD\u5E94\u5F0F\u5BF9\u8C61 \u53EF\u4EE5\u76D1\u63A7\u5230\u5BF9\u8C61\u7684\u53D8\u5316\u89E6\u53D1\u56DE\u8C03\n\nimport { isFunction, isObject } from '@vue/shared';\nimport { isReactive } from './reactive';\nimport { ReactiveEffect } from './effect';\n\n// = \u6DF1\u62F7\u8D1D  seen \u9632\u6B62\u6B7B\u5FAA\u73AF\nfunction traverse(value,seen=new Set()){\n  if(!isObject(value)){\n    return value\n  }\n\n  if(seen.has(value)){\n    return value\n  }\n\n  seen.add(value)\n\n  for(const key in value){\n    traverse(value[key],seen);\n  }\n\n  return value\n}\n\n\nexport function watch(source,cb,options){\n  return dowatch(source,cb,options)\n\n}\n\nexport function watchEffect(source,options){\n  return dowatch(source,null,options)\n\n}\n\n\n// watch  watchEffect\nexport default function dowatch(source,cb,options){\n  // 1.source\u662F\u4E00\u4E2A\u54CD\u5E94\u5F0F\u5BF9\u8C61\n  // 2.source\u662F\u4E00\u4E2A\u51FD\u6570\n  let getter;\n  if(isReactive(source)){\n    getter=()=>traverse(source)\n  }else if(isFunction(source)){\n    getter=source\n  }\n\n  let oldVal;\n\n\n  // \u91CC\u9762\u7684\u5C5E\u6027\u5C31\u4F1A\u6536\u96C6\u5F53\u524D\u7684effect\n  // \u5982\u679C\u6570\u636E\u53D8\u5316\u540E\u4F1A\u6267\u884C\u5BF9\u5E94scheduler\u65B9\u6CD5\n  let clear;\n  let onCleanup=(fn)=>{\n    clear=fn\n\n  }\n\n\n  const job=()=>{\n    if(cb){\n      if(clear) clear()\n      const newVal=effect.run()\n      cb(newVal,oldVal,onCleanup)\n      oldVal=newVal\n    }else{\n      effect.run()//watchEffect \u53EA\u9700\u8981\u8FD0\u884C\u81EA\u8EAB\u5C31\u53EF\u4EE5\u4E86\n\n    }\n  }\n\n  // \u91CC\u9762\u7684\u5C5E\u6027\u5C31\u4F1A\u6536\u96C6\u5F53\u524D\u7684effect\n  // \u5982\u679C\u6570\u636E\u53D8\u5316\u540E\u4F1A\u6267\u884C\u5BF9\u5E94\u7684scheduler\u65B9\u6CD5\n  const effect=new ReactiveEffect(getter,job)\n\n  oldVal=effect.run()\n\n}", "import { isFunction } from '@vue/shared';\nimport { ReactiveEffect, trackEffects, triggerEffects } from './effect';\nclass ComputedRefImpl{\n  public effect;\n  public _value;\n  public _dirty=true;\n  public dep=new Set()\n  public __v_isRef=true;//\u8868\u793A\u540E\u7EED\u6211\u4EEC\u53EF\u4EE5\u589E\u52A0\u62C6\u5305\u7684\u903B\u8F91\n  constructor(getter,public setter){\n    this.effect=new ReactiveEffect(getter,()=>{\n      if(!this._dirty){\n        this._dirty=true  //\u4F9D\u8D56\u7684\u503C \u53D1\u751F\u53D8\u5316\u4E86 \u4F1A\u5C06dirty\u53D8\u4E3Atrue\n\n        // \u5F53\u4F9D\u8D56\u7684\u503C\u53D1\u751F\u53D8\u5316\u4E86 \u4E5F\u5E94\u8BE5\u89E6\u53D1\u66F4\u65B0\n        triggerEffects(this.dep)\n      }\n\n    })\n  }\n\n  get value(){\n    trackEffects(this.dep)\n    if(this._dirty){\n    this._value=this.effect.run();//this._value\u5C31\u662F\u53D6\u503C\u540E\u7684\u7ED3\u679C\n    this._dirty=false\n\n    }\n    return this._value\n\n  }\n\n  set value(newVal){\n    this.setter(newVal)\n\n  }\n}\nexport function computed(getterOrOptions){\n  let getter;\n  let setter;\n\n  const isGetter=isFunction(getterOrOptions)\n  if(isGetter){\n    getter=getterOrOptions\n    setter=()=>{\n      console.log('warn')\n    }\n    \n  }else{\n    getter=getterOrOptions.get\n    setter=getterOrOptions.set\n  }\n\n  return new ComputedRefImpl(getter,setter)\n}", "const queue=[]\nlet isFlushing=false\n\nconst p=Promise.resolve()\nexport function queueJob(job){\n  if(!queue.includes(job)){\n    queue.push(job);//\u5B58\u50A8\u5F53\u524D\u7684\u66F4\u65B0\u7684\u64CD\u4F5C\n  }\n\n  // \u6570\u636E\u53D8\u5316 \u53EF\u80FD\u4F1A\u51FA\u73B0\u591A\u4E2A\u7EC4\u4EF6\u7684\u66F4\u65B0  \u6240\u4EE5\u9700\u8981\u91C7\u7528\u961F\u5217\u6765\u5B58\u50A8\n  if(!isFlushing){\n    isFlushing=true\n\n    p.then(()=>{\n      isFlushing=true\n      let copyQueue=queue.slice(0);//\u5C06\u5F53\u524D\u91CD\u65B0\u6267\u884C\u7684\u961F\u5217\u62F7\u8D1D\u4E00\u4EFD \u5E76\u4E14\u6E05\u7A7A\u961F\u5217\n      queue.length=0\n\n      copyQueue.forEach((job)=>{\n        job()\n\n      })\n\n      copyQueue.length=0\n    })\n  }\n}", "import { ShapeFlags } from '@vue/shared'\nimport { isSameVnode,Text,Fragment } from './createVnode'\nimport { getSeq } from './seq'\nimport { reactive, ReactiveEffect } from '@vue/reactivity'\nimport {queueJob} from './scheduler'\n\nexport function createRenderer(renderOptions){\n  const {\n    createElement:hostCreateElement,\n    createText:hostCreateText,\n    insert:hostInsert,\n    remove:hostRemove,\n    querySelector:hostQuerySelector,\n    setElementText:hostSetElementText,\n    setText:hostSetText,\n    createComment:hostCreateComment,\n    nextSibling:hostNextSibling,\n    parentNode:hostParentNode,\n    patchProp:hostPatchProp\n    \n\n  }=renderOptions\n\n  const unmount=(vnode)=>{\n    const {shapeFlag,type,children}=vnode\n    if(type===Fragment){\n      return unmountChildren(children)\n    }\n    // if(shapeFlag&ShapeFlags.ELEMENT){\n      hostRemove(vnode.el);//\u5BF9\u4E8E\u5143\u7D20\u6765\u8BF4  \u76F4\u63A5\u5220\u9664dom\u5373\u53EF\n    // }\n\n  }\n\n\n  const mountChildren=(children,container)=>{\n    children.forEach((child) => {\n      patch(null,child,container)\n      \n    });\n\n  }\n\n    const unmountChildren=(children)=>{\n    children.forEach((child) => {\n      unmount(child)\n      \n    });\n\n  }\n\n  const mountElement=(vnode,container,anchor)=>{\n    // \u9012\u5F52\u904D\u5386  \u865A\u62DF\u8282\u70B9\u5C06\u5176\u8F6C\u6362\u6210\u771F\u5B9E\u8282\u70B9\n    const {type,props,children,shapeFlag}=vnode\n    const el=(vnode.el= hostCreateElement(type))\n    if(props){\n      for(let key in props){\n        hostPatchProp(el,key,null,props[key])\n      }\n    }\n\n    if(children){\n      if(shapeFlag&ShapeFlags.TEXT_CHILDREN){\n        hostSetElementText(el,children)\n      }else if(shapeFlag&ShapeFlags.ARRAY_CHILDREN){\n        mountChildren(children,el)\n\n      }\n    }\n\n\n\n    hostInsert(el,container,anchor)\n\n  }\n\n\n  const patchProps=(oldProps,newProps,el)=>{\n    if(oldProps==newProps) return\n    for(let key in newProps){\n      // \u771F\u5B9E\u64CD\u4F5Cdom\n      let prevVal=oldProps[key]\n      let nextVal=newProps[key]\n\n      if(prevVal!==nextVal){\n        hostPatchProp(el,key,prevVal,nextVal)\n      }\n    }\n\n    for(let key in oldProps){\n      if(!(key in newProps)){\n        hostPatchProp(el,key,oldProps[key],null)\n      }\n    }\n\n  }\n\n  const patchKeyChildren=(c1,c2,el)=>{\n    // vue3 \u4E2D\u7684diff\u7B97\u6CD5  1.\u540C\u5E8F\u5217\u6302\u8F7D\u548C\u5378\u8F7D  2.\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217 \u8BA1\u7B97\u6700\u5C0F\u504F\u79FB\u91CF\u6765\u8FDB\u884C\u66F4\u65B0\n    let i=0//\u5F00\u5934\u7684\u4F4D\u7F6E\n    let e1=c1.length-1\n    let e2=c2.length-1\n\n    // a b c\n    // a b d\n\n    // sync from start\n    while(i<=e1&&i<=e2){\n      const n1=c1[i]\n      const n2=c2[i]\n      if(isSameVnode(n1,n2)){\n        patch(n1,n2,el)\n      }else{\n        break\n      }\n      i++\n\n    }\n\n    // sync from end\n    while(i<=e1&&i<=e2){\n      const n1=c1[e1]\n      const n2=c2[e2]\n      if(isSameVnode(n1,n2)){\n        patch(n1,n2,e1)\n      }else{\n        break\n      }\n\n      e1--\n      e2--\n    }\n\n\n\n    if(i>e1){\n      // \u65B0\u7684\u591A \u8001\u7684\u5C11\n      while(i<=e2){\n        const nextPos=e2+1\n        const anchor=c2[nextPos]?.el;//\u83B7\u53D6\u4E0B\u4E00\u4E2A\u5143\u7D20\u7684el\n        // \u6211\u5F97\u77E5\u9053\u662F\u5411\u524D\u63D2\u5165  \u8FD8\u662F\u5411\u540E\u63D2\u5165 \u5982\u679C\u662F\u5411\u524D\u63D2\u5165\u5F97\u6709\u53C2\u7167\u7269\n        patch(null,c2[i],el,anchor)\n\n        i++\n      }\n    }else if(i>e2){\n      // \u8001\u5F97\u591A \u65B0\u5F97\u5C11\n      while(i<=e1){\n        unmount(c1[i])\n\n        i++\n      }\n\n    }\n\n\n    // \u4EE5\u4E0A\u5F97\u60C5\u51B5  \u90FD\u662F\u4E00\u4E9B\u5934\u5C3E\u5F97\u7279\u6B8A\u64CD\u4F5C \u4F46\u662F\u4E0D\u9002\u7528\u5176\u4ED6\u60C5\u51B5\n    let s1=i\n    let s2=i\n\n    // s1-e1 [c d e]\n    // s2-e2 [d c e h]\n\n    // \u5982\u4F55\u590D\u7528 key\n    const keyToNewIndexMap=new Map()\n\n    const toBePatched=e2 - s2 + 1;//\u65B0\u7684\u513F\u5B50\u6709\u8FD9\u4E48\u591A\u4E2A\u9700\u8981\u88ABpatch\n    const newIndexToOldIndex=new Array(toBePatched).fill(0)\n\n    for(let i=s2;i<=e2;i++){\n      keyToNewIndexMap.set(c2[i].key,i)\n    }\n\n    for(let i=s1;i<=e2;i++){\n      const vnode=c1[i]\n      let newIndex=keyToNewIndexMap.get(vnode.key)\n      if(newIndex==undefined){\n        // \u8001\u7684\u91CC\u9762\u6709\u65B0\u7684\u6CA1\u6709\n        unmount(vnode)\n      }else{\n        newIndexToOldIndex[newIndex - s2]=i+1\n        // \u7528\u6765\u7684\u865A\u62DF\u8282\u70B9  c\u548C\u65B0\u7684\u865A\u62DF\u8282\u70B9\u505A\u6BD4\u5BF9\n        patch(vnode,c2[newIndex],el);//\u8FD9\u91CC\u53EA\u662F\u6BD4\u8F83\u81EA\u5DF1\u7684\u5C5E\u6027\u548C\u513F\u5B50  \u5E76\u6CA1\u6709\u79FB\u52A8\n\n      }\n    }\n\n    const increasingNewIndexSequence=getSeq(newIndexToOldIndex)\n\n    let j=increasingNewIndexSequence.length-1;//\u53D6\u51FA\u6570\u7EC4\u7684\u6700\u540E\u4E00\u4E2A\u7D22\u5F15\n\n\n\n\n    // \u63A5\u4E0B\u6765\u8981\u8BA1\u7B97\u79FB\u52A8\u54EA\u4E9B\u8282\u70B9   *\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\n\n    // \u5012\u53D9\u63D2\u5165\n    for(let i=toBePatched-1;i>=0;i--){\n      const curIndex=s2+i\n      const nextChild=c2[curIndex+1]?.el;//\u53D6\u5230\u4E86f\n      if(newIndexToOldIndex[i]==0){\n        // \u65B0\u7684\u91CC\u9762\u6CA1\u6CD5\u76F4\u63A5\u63D2\u5165\n        patch(null,c2[curIndex],el,nextChild)\n      }else{\n        // \u5DF2\u7ECF\u6709\u8FD9\u4E2A\u5143\u7D20\u4E86 \u76F4\u63A5\u505A\u63D2\u5165\n        // \u8FD9\u91CC\u9700\u8981\u5224\u65AD  \u5F53\u524Di\u548Cj \u5982\u679C\u4E00\u81F4\u8BF4\u660E\u8FD9\u4E00\u9879\u4E0D\u9700\u8981\u79FB\u52A8\n\n        if(i==increasingNewIndexSequence[j]){\n          // \u5982\u679C\u5F53\u524D\u8FD9\u4E00\u9879\u548C\u5E8F\u5217\u4E2D\u76F8\u7B49  \u8BF4\u660E\u4E0D\u7528\u4EFB\u4F55\u64CD\u4F5C,\u76F4\u63A5\u8DF3\u8FC7\u5373\u53EF\n          j--;\n        }else{\n        hostInsert(c2[curIndex].el,el,nextChild);//\u4E0D\u518D\u5E8F\u5217\u4E2D\u610F\u5473\u7740\u6B64\u5143\u7D20\u9700\u8981\u79FB\u52A8\n        }\n      }\n    }\n\n  }\n\n  // \u6BD4\u8F83\u53CC\u65B9\u7684\u513F\u5B50\u8282\u70B9\u7684\u5DEE\u5F02\n  const patchChildren=(n1,n2,el)=>{\n    // text [] null\n    const c1=n1.children\n    const c2=n2.children\n\n    const prevShapeFlag=n1.shapeFlag\n    const shapeFlag=n2.shapeFlag\n\n    // \u5F53\u524D\u662F\u6587\u672C\u5462  \u4E4B\u524D\u5C31\u662F\u7A7A  \u6587\u672C  \u6570\u7EC4\n\n    if(shapeFlag&ShapeFlags.TEXT_CHILDREN){\n      if(prevShapeFlag&ShapeFlags.ARRAY_CHILDREN){ //\u8001\u7684\u662F\u6570\u7EC4  \u65B0\u7684\u662F\u6587\u672C\n        // \u8001\u7684\u662F\u6570\u7EC4  \u90FD\u79FB\u9664\u5373\u53EF\n        unmountChildren(c1)\n\n      }\n      // \u65B0\u7684\u662F\u6587\u672C \u8001\u7684\u53EF\u80FD\u662F\u6587\u672C  \u6216\u8005\u7A7A\n      if(c1!==c2){\n        hostSetElementText(el,c2)\n      }\n\n    }else{\n      // \u4E4B\u524D\u662F\u6570\u7EC4\n      if(prevShapeFlag&ShapeFlags.ARRAY_CHILDREN){\n        if(shapeFlag&ShapeFlags.ARRAY_CHILDREN){\n          // \u53CC\u65B9\u90FD\u662F\u6570\u7EC4 \u6838\u5FC3diff\u7B97\u6CD5  todo...\n          patchKeyChildren(c1,c2,el)\n        }else{\n          // \u73B0\u5728\u662F\u7A7A\u7684\u60C5\u51B5\n          unmountChildren(c1)\n        }\n      }else{\n        // \u8001\u7684\u662F\u6587\u672C  \u6216\u8005\u662F\u7A7A\n        if(prevShapeFlag&ShapeFlags.TEXT_CHILDREN){\n          hostSetElementText(el,\"\")\n        }\n        if(shapeFlag&ShapeFlags.ARRAY_CHILDREN){\n          mountChildren(c2,el)\n        }\n      }\n\n\n\n    }\n\n\n\n\n\n\n    // patchFlag + blockTree \u7F16\u8BD1\u4F18\u5316 \u53EA\u6709\u5199\u6A21\u677F\u7684\u65F6\u5019  \u624D\u4EAB\u53D7\u8FD9\u79CD\u4F18\u5316\n\n\n\n\n\n\n\n\n    \n  }\n\n  const patchElement=(n1,n2)=>{\n    let el=(n2.el=n1.el);//\u5C06\u8001\u7684\u865A\u62DF\u8282\u70B9\u4E0A\u7684dom\u76F4\u63A5\u7ED9\u65B0\u7684\u865A\u62DF\u8282\u70B9\n\n    const oldProps=n1.props||{}\n    const newProps=n2.props||{}\n\n    // \u6BD4\u8F83\u524D\u540E\u5C5E\u6027\u7684\u5DEE\u5F02  diff prop\n    patchProps(oldProps,newProps,el)\n\n    patchChildren(n1,n2,el)\n\n  }\n\n  const processElement=(n1,n2,container,anchor)=>{\n    if(n1==null){\n      mountElement(n2,container,anchor)\n    }else{\n      // \u5143\u7D20\u66F4\u65B0\u4E86\n      patchElement(n1,n2)\n    }\n  }\n\n\n  const processText=(n1,n2,el)=>{\n    console.log(n1,n2,el,'********')\n    if(n1==null){\n      // \u8FD9\u91CC\u4E0D\u8981\u7528innerHTML\n     hostInsert((n2.el = hostCreateText(n2.children)),el)\n    }else{\n      let el=(n2.el=n1.el);//\u590D\u7528\u6587\u672C\n      if(n1.children===n2.children){\n        return \n      }\n      hostSetText(el,n2.children)\n    }\n\n  }\n\n  const processFragment=(n1,n2,el)=>{\n    if(n1==null){\n      mountChildren(n2.children,el)\n    }else{\n      console.log(n1,n2,'fragment')\n      patchKeyChildren(n1.children,n2.children,el)\n    }\n\n  }\n\n  const initProps=(instance,userProps)=>{\n    const attrs={}\n    const props={}\n\n    const options=instance.propsOptions||{};//\u7EC4\u4EF6\u4E0A\u63A5\u53D7\u7684props\n    if(userProps){\n      for(let key in userProps){\n        // \u5C5E\u6027\u4E2D\u5E94\u8BE5\u5305\u542B\u5C5E\u6027\u7684\u6821\u9A8C\n        const value=userProps[key]\n\n        if(key in options){\n          props[key]=value\n\n        }else{\n          attrs[key]=value\n        }\n\n      }\n    }\n\n    instance.attrs=attrs\n    console.log(props,instance,userProps,'props\u7684\u5185\u5BB9')\n    instance.props=reactive(props)\n\n  }\n\n  const publicProperties={\n    $attrs:(i)=>i.attrs,\n  }\n\n\n  const mountComponent=(n2,el,anchor)=>{\n    console.log(n2,el,anchor,'mountComponent')\n    // \u7EC4\u4EF6\u7684\u6570\u636E\u548C\u6E32\u67D3\u51FD\u6570\n    const {data=()=>({}),render,props:propsOptions={}}=n2.type\n\n\n    // getCurrentInstance\n    const instance={\n      state:{},\n      isMounted:false,//\u9ED8\u8BA4\u7EC4\u4EF6\u6CA1\u6709\u521D\u59CB\u5316  \u521D\u59CB\u5316\u540E\u4F1A\u5C06\u6B64\u5C5E\u6027isMounted true\n      subTree:null,\n      vnode:n2,//\u7EC4\u4EF6\u7684\u865A\u62DF\u8282\u70B9\n      update:null,\n      attrs:{},\n      props:{},\n      propsOptions,//\u7EC4\u4EF6\u4E2D\u63A5\u53D7\u7684props\n      proxy:null,\n      render:null\n    }//\u6B64\u5B9E\u4F8B\u5C31\u662F\u7528\u6765\u8BB0\u5F55\u7EC4\u4EF6\u7684\u5C5E\u6027\u7684  \u76F8\u5173\u4FE1\u606F\u7684\n\n    instance.vnode.component=instance\n\n    // \u5B9E\u4F8B\u4E0A props\u548Cattrs n2.props \u662F\u7EC4\u4EF6\u7684\u865A\u62DF\u8282\u70B9\u7684props\n    initProps(instance,n2.props);//\u7528\u6237\u4F20\u9012\u7ED9\u865A\u62DF\u8282\u70B9\u7684props\n\n    instance.state=reactive(data.call(instance.proxy));//\u5C06\u6570\u636E\u53D8\u6210\u54CD\u5E94\u5F0F\u7684\n\n    instance.proxy=new Proxy(instance,{\n      get(target,key,receiver){\n        const {state,props}=target\n        if(state&&key in state){\n          return state[key]\n        }else if(key in props){\n          return props[key]\n\n        }\n\n        let getter=publicProperties[key]\n        if(getter){\n          return getter(instance)\n        }\n\n      },\n      set(target,key,value,receiver){\n        const {state,props}=target\n        if(state&&key in state){\n          state[key]=value\n          return true\n        }else if(key in props){\n          console.warn('\u4E0D\u5141\u8BB8\u4FEE\u6539props')\n          return true\n\n        }\n\n        return true\n\n      }\n    })\n\n\n    const updateProps=(instance,nextProps)=>{\n      // \u5E94\u8BE5\u8003\u8651\u5427\u4E00\u4E0Battrs  \u548Cprops\n      let prevProps=instance.props\n      for(let key in nextProps){\n        prevProps[key]=nextProps[key]\n      }\n\n      for(let key in prevProps){\n        if(!(key in nextProps)){\n          delete prevProps[key]\n        }\n      }\n\n\n    }\n\n    const updatePreRender=(instance,next)=>{\n      instance.next=null\n      instance.vnode=next;//\u66F4\u65B0\u865A\u62DF\u8282\u70B9\n\n      updateProps(instance,next.props)\n\n    }\n\n    const componentUpdateFn=()=>{\n      // \u7EC4\u4EF6\u8981\u6E32\u67D3\u7684 \u865A\u62DF\u8282\u70B9\u662Frender\u51FD\u6570\u8FD4\u56DE\u7684\u7ED3\u679C\n      // \u7EC4\u4EF6\u6709\u81EA\u5DF1\u7684\u865A\u62DF\u8282\u70B9,\u8FD4\u56DE\u7684\u865A\u62DF\u8282\u70B9 subTree\n      \n\n      // \u5F53\u8C03\u7528render\u65B9\u6CD5\u7684\u65F6\u5019  \u4F1A\u89E6\u53D1\u54CD\u5E94\u5F0F\u7684\u6570\u636E\u8BBF\u95EE  \u8FDB\u884Ceffect\u7684\u6536\u96C6\n      // \u6240\u4EE5\u6570\u636E\u53D8\u5316\u540E\u4F1A\u91CD\u65B0\u89E6\u53D1effect\u6267\u884C\n\n      if(!instance.isMounted){\n\n        const subTree=render.call(instance.proxy,instance.proxy);//\u8FD9\u91CC\u5148\u6682\u65F6\u5C06proxy \u8BBE\u7F6E\u4E3A\u72B6\u6001\n        patch(null,subTree,el,anchor)\n        instance.subTree=subTree\n        instance.isMounted=true\n        console.log(subTree,'\u521D\u59CB\u5316')\n      }else{\n        const prevSubTree=instance.subTree\n\n        //\u8FD9\u91CC\u518D\u4E0B\u6B21\u6E32\u67D3\u524D\u9700\u8981\u66F4\u65B0\u5C5E\u6027  \u66F4\u65B0\u5C5E\u6027\u540E\u518D\u6E32\u67D3 \u83B7\u53D6\u6700\u65B0\u7684\u865A\u62DFDOM\n        const next=instance.next\n        if(next){\n          // \u8BF4\u660E\u5C5E\u6027\u6709\u66F4\u65B0\n          updatePreRender(instance,next)\n        }\n\n\n        const nextSubTree=render.call(instance.proxy,instance.proxy)\n        instance.subTree=nextSubTree\n        patch(prevSubTree,nextSubTree,el,anchor)\n        console.log(prevSubTree,nextSubTree,'\u72B6\u6001\u53D8\u5316\u4E86')\n    \n      }\n\n\n    }\n\n    const effect=new ReactiveEffect(componentUpdateFn,()=>{\n      // \u8FD9\u91CC\u6211\u4EEC\u53EF\u4EE5\u5EF6\u8FDF\u8C03\u7528componentUpdateFn\n\n      // \u6279\u5904\u7406 + \u53BB\u91CD\n\n      queueJob(instance.update)\n\n    });//\u5BF9\u5E94\u7684effect\u65B9\u6CD5\n    const update= instance.update =effect.run.bind(effect)\n    update()\n\n  }\n\n  const updateComponent=(n1,n2,el,anchor)=>{\n    // \u8FD9\u91CC\u6211\u4EEC  \u5C5E\u6027\u53D1\u751F\u4E86\u53D8\u5316  \u4F1A\u6267\u884C\u5230\u8FD9\u91CC\n    // \u63D2\u69FD\u66F4\u65B0\u4E5F\u4F1A\u6267\u884C\n    const instance=(n2.component=n1.component)\n\n\n    if(shouldComponentUpdate(n1,n2)){\n    instance.next=n2;//\u6682\u5B58\u65B0\u7684\u865A\u62DF\u8282\u70B9\n    instance.update()\n    }\n\n  }\n\n  function hasChanged(oldProps={},newProps={}){\n    // \u76F4\u63A5\u67E5\u770B\u6570\u91CF  \u6570\u91CF\u540E\u53D8\u5316  \u5C31\u4E0D\u7528\u904D\u5386\u4E86\n    let oldKeys=Object.keys(oldProps)\n    let newKeys=Object.keys(newProps)\n    if(oldKeys.length!==newKeys.length){\n      return true\n    }\n\n    for(let i=0;i<newKeys.length;i++){\n      const key=newKeys[i]\n      if(newProps[key]!==oldProps[key]){\n        return true\n      }\n    }\n\n    return false\n\n  }\n\n\n  function shouldComponentUpdate(n1,n2){\n    const oldProps=n1.props;\n    const newProps=n2.props;\n\n    if(oldProps==newProps) return false\n    return hasChanged(oldProps,newProps)\n\n  }\n\n  const processComponent=(n1,n2,el,anchor)=>{\n    if(n1==null){\n      mountComponent(n2,el,anchor)\n    }else{\n      updateComponent(n1,n2,el,anchor);//\u7EC4\u4EF6\u7684\u5C5E\u6027\u53D8\u5316\u4E86  \u6216\u8005\u63D2\u69FD\u53D8\u5316\u4E86\n    }\n\n  }\n\n  const patch=(n1,n2,container,anchor=null)=>{\n    // \u66F4\u65B0\u548C\u521D\u6B21\u6E32\u67D3\n\n    if(n1&&!isSameVnode(n1,n2)){//\u66F4\u65B0\n      unmount(n1)\n      n1=null\n    }\n\n\n    const {type,shapeFlag}=n2\n\n    console.log(type,'type')\n\n    switch (type){\n      case Text:\n        processText(n1,n2,container)\n        break;\n      case Fragment:\n        processFragment(n1,n2,container)\n        break;\n      default:\n        if(shapeFlag&ShapeFlags.ELEMENT){\n          // \u5143\u7D20\u7684\u5904\u7406\n          processElement(n1,n2,container,anchor)\n        }else if(shapeFlag&ShapeFlags.COMPONENT){\n          console.log(n1,n2,container,anchor,'COMPONENT')\n          processComponent(n1,n2,container,anchor)\n        }\n    }\n\n    // if(n1==null){\n    //   mountElement(n2,container)\n    // }else{\n    //   // \u5143\u7D20\u66F4\u65B0\u4E86\n    //   patchElement(n1,n2)\n    // }\n\n  }\n  const render=(vnode,container)=>{\n    // \u865A\u62DF\u8282\u70B9\u7684\u521B\u5EFA  \u6700\u7EC8\u751F\u6210\u771F\u5B9E\u7684dom\u6E32\u67D3\u5230\u5BB9\u5668\u4E2D\n    // 1.\u5378\u8F7D render(null,app)\n    // 2.\u66F4\u65B0 \u4E4B\u524D\u6E32\u67D3\u8FC7\u4E86 \u73B0\u5728\u5728\u6E32\u67D3  \u4E4B\u524D\u6E32\u67D3\u8FC7\u4E00\u6B21  \u4EA7\u751F\u4E86\u865A\u62DF\u8282\u70B9  \u518D\u6B21\u6E32\u67D3\u4EA7\u751F\u4E86\u865A\u62DF\u8282\u70B9\n    // 3.\u521D\u6B21\u6302\u8F7D\n      console.log(renderOptions,vnode,container)\n\n      if(vnode==null){\n        // \u5378\u8F7D\u903B\u8F91\n        if(container._vnode){\n          // \u8BF4\u660E\u4E4B\u524D\u6E32\u67D3\u8FC7\u4E86 \u73B0\u5728\u8981\u79FB\u9664\u6389\n          unmount(container._vnode);//\u865A\u62DF\u8282\u70B9\u4E2D\u5B58\u653E\u4E86\u771F\u5B9E\u8282\u70B9\n        }\n      }else{\n        patch(container._vnode||null,vnode,container)\n      }\n\n      container._vnode=vnode\n\n      \n\n    }\n  return {\n    render\n  }\n}\n\n\n// runtime-core\u4E2D\u7684createRenderer\u662F\u4E0D\u57FA\u4E8E\u5E73\u53F0\u7684", "import { isObject } from '@vue/shared';\nimport { createVNode, isVNode } from './createVnode';\nexport function h(type,propsOrChildren?,children?){\n  const l=arguments.length\n  if(l==2){\n    if(isObject(propsOrChildren)&&!Array.isArray(propsOrChildren)){\n      if(isVNode(propsOrChildren)){\n\n        return createVNode(type,null,[propsOrChildren])\n      }\n      // \u662F\u5C5E\u6027\u7684\u60C5\u51B5\n      return createVNode(type,propsOrChildren)\n    }else{\n      // \u53EF\u80FD\u662F\u6570\u7EC4  \u4E5F\u53EF\u80FD\u662F\u6587\u672C =>\u513F\u5B50\n      return createVNode(type,null,propsOrChildren)\n    }\n  }else{\n    if(l>3){\n      children=Array.from(arguments).slice(2)\n    }\n\n    if(l===3&&isVNode(children)){\n      children=[children]\n    }\n\n    //\u53C2\u6570\u5927\u4E8E3 \u524D\u4E24\u4E2A\u4E4B\u5916\u7684\u90FD\u662F\u513F\u5B50\n    //\u7B49\u4E8E\u4E09\u7684\u60C5\u51B5  \u7B2C\u4E09\u4E2A\u53C2\u6570\u5C31\u662F\u865A\u62DF\u8282\u70B9  \u8981\u5305\u88C5\u6210\u6570\u7EC4\n    return createVNode(type,propsOrChildren,children)\n\n    // ...\n  }\n\n\n}", "// \u7528\u6765\u8026\u5408\u6240\u6709\u7684 dom api\n\nimport { nodeOps } from './nodeOps';\nimport { patchProp } from './patchProp';\nimport { createRenderer as renderer } from '@vue/runtime-core';\n\n\nconst renderOptions=Object.assign(nodeOps,{\n  patchProp\n})\n\n\n\n// \u7528\u6237\u81EA\u5DF1\u521B\u5EFA\u6E32\u67D3\u5668  \u628A\u5C5E\u6027\u4F20\u9012\u8FDB\u884C\nexport function createRenderer(renderOptions){\n  return renderer(renderOptions)\n\n}\n\n\n\nexport function render(vnode,container){\n  // \u5185\u7F6E\u6E32\u67D3\u5668 \u4F1A\u81EA\u52A8\u4F20\u5165domAPI \u4E13\u95E8\u7ED9vue\u6765\u670D\u52A1\u7684\n  const renderer=createRenderer(renderOptions)\n  return renderer.render(vnode,container)\n}\n\n\n\n// \u518D\u6B21\u8FDB\u884C\u62C6\u5206\nexport * from '@vue/runtime-core'"],
  "mappings": "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",
  "names": ["type", "p", "i", "effect", "ReactiveFlags", "effect", "job", "renderOptions", "i", "el", "render", "instance", "effect", "createRenderer", "renderOptions"]
}
