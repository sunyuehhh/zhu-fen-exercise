{"version":3,"file":"vue.js","sources":["../../src/observer/array.js","../../src/utils.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/parse.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/vdom/patch.js","../../src/observer/watcher.js","../../src/lifecycle.js","../../src/init.js","../../src/vdom/index.js","../../src/global-api/index.js","../../src/index.js"],"sourcesContent":["// 拿到数组原型上的方法 (原来的方法)\nlet oldArrayProtoMethods=Array.prototype\n\n// 继承一下  arrayMethods.__proto__=oldArrayProtoMethods\nexport let arrayMethods=Object.create(oldArrayProtoMethods)\n\nlet methods=[\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'reverse',\n  'sort',\n  'splice'\n]\n\nmethods.forEach(method=>{\n  arrayMethods[method]=function(...args){\n    const result=oldArrayProtoMethods[method].apply(this,args)\n    let inserted;\n    let ob=this.__ob__;\n    switch(method){\n      case 'push':\n      case 'unshift':\n      // 这两个方法都是追加  追加的内容可能是对象类型  应该再次被劫持\n      inserted=args;\n      break\n      case 'splice'://Vue.$set原理\n      inserted=args.slice(2);//arr.splice(0,1,{a:1})\n      break\n      default:\n      break\n    }\n\n    if(inserted) ob.observeArray(inserted) //给数组新增的值也要进行观测\n    return result\n  }\n})\n","export function proxy(vm,data,key){\n  Object.defineProperty(vm,key,{\n    get(){\n      return vm[data][key]  //vm.a\n    },\n    set(newValue){\n      vm[data][key]=newValue\n\n    }\n  })\n\n\n}\n\n\nexport function defineProperty(target,key,value){\n      Object.defineProperty(target,key,{\n      enumerable:false,//不能被枚举  不能被循环出来\n      configurable:false,\n      value:value\n    })\n}\n\nexport const LIFECYCLE_HOOKS=[\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed'\n]\n\nconst strats={}\nstrats.data=function(parentVal,childValue){\n  return childValue\n\n}\nstrats.computed=function(){\n\n}\nstrats.watch=function(){\n\n}\n\nfunction mergeHook(parentVal,childValue){//生命周期的合并\n  if(childValue){\n    if(childValue){\n      if(parentVal){\n        return parentVal.concat(childValue)\n      }else{\n        return [childValue];//{}  {created:function}\n      }\n    }\n\n  }else{\n    return parentVal;//不合并了  采用父亲的\n  }\n\n}\n\nLIFECYCLE_HOOKS.forEach(hook=>{\n  strats[hook]=mergeHook\n})\n\nexport function mergeOptions(parent,child){\n  console.log(parent,child,'patent  child')\n  // 遍历父亲  可能时父亲有  儿子没有\n  const options={}\n\n  for(let key in parent){//父亲和儿子都有在这儿就处理了\n    mergeField(key)\n    console.log(1,key)\n  }\n\n  // 儿子有  父亲没有  在这儿处理\n  for(let key in child){ //将儿子多的赋予给父亲\n    if(!parent.hasOwnProperty(key)){\n      console.log(2,key)\n      mergeField(key)\n    }\n\n  }\n\n  function mergeField(key){//合并字段\n    // 根据key  不同的策略来进行合并\n    if(strats[key]){\n      options[key]= strats[key](parent[key],child[key])\n    }else{\n      // todo\n      options[key]=child[key]\n    }\n\n  }\n\n\n\n  return options\n\n}","class Dep{\n  constructor(){\n    this.subs=[]\n  }\n  depend(){\n    this.subs.push(Dep.target)\n\n  }\n\n  notify(){\n    this.subs.forEach(watcher=>watcher.update())\n  }\n}\n\nexport function pushTarget(watcher){\n  Dep.target=watcher\n\n}\n\nexport function popTarget(watcher){\n  Dep.target=null //将变量删除掉\n\n}\n\nexport default Dep\n\n\n// 多对多的关系  一个属性有一个dep是用来收集watcher的\n// dep  可以存搓个watcher\n// 一个watcher 可以对应多个dep","import { arrayMethods } from \"./array\"\nimport { defineProperty } from \"../utils\"\nimport Dep from \"./dep\"\n\nclass Observer{\n  constructor(value){\n    // 判断一个对象是否被观测过看他有没有__ob__这个属性\n    defineProperty(value,'__ob__',this)\n\n    // 使用defineProperty重新定义属性\n    if(Array.isArray(value)){\n      // 我希望调用push shift unshift splice sort reverse pop\n      // 函数劫持   切片编程\n      value.__proto__=arrayMethods\n      // 观测数组中的对象类型  对象变化也要做一些事\n      this.observeArray(value)\n\n    }else{\n    this.walk(value)\n    }\n  }\n\n  observeArray(value){\n    value.forEach(item=>{\n      observer(item)//观测数组中的对象类型\n    })\n\n  }\n  walk(data){\n    let keys=Object.keys(data)\n    keys.forEach((key)=>{\n      defineReactive(data,key,data[key])//Vue.util.defineReactive\n    })\n\n\n  }\n}\n\nfunction defineReactive(data,key,value){\n  observer(value)\n  let dep=new Dep();//每个属性都有一个dep\n  Object.defineProperty(data,key,{\n    get(){\n      if(Dep.target){\n        dep.depend()\n      }\n      console.log('用户获取值了')\n      return value\n    },\n    set(newValue){\n      console.log('设置值')\n      if(newValue===value)  return\n      observer(newValue) //如果用户将值改为对象  继续监控\n      value=newValue\n\n      dep.notify()\n    }\n  })\n\n}\n\nexport function observer(data){\n  if(typeof data!=='object'&&data!==null){\n    return  data\n  }\n\n  if(data.__ob__){\n    return data\n  }\n\n  return new Observer(data)\n\n}\n\n\n","import { observer } from \"./observer/index.js\"\nimport { proxy } from \"./utils.js\"\nexport function initState(vm){\n  const opts=vm.$options\n  if(opts.props){\n    initProps(vm)\n  }\n\n  if(opts.methods){\n    initMethods(vm)\n  }\n\n  if(opts.data){\n    initData(vm)\n  }\n\n  if(opts.computed){\n    initComputed(vm)\n  }\n\n  if(opts.watch){\n    initWatch(vm)\n  }\n\n}\n\nfunction initProps(vm){\n\n}\n\nfunction initMethods(vm){\n\n}\n\nfunction initData(vm){\n  let data=vm.$options.data\n\n  vm._data=data=typeof data=='function'?data.call(vm):data\n  // 数据的劫持方案  对象Object.defineProperty\n  // 数组  单独处理\n\n  // 我去vm上取属性时  帮我将属性的取值代理到vm._data上\n  for(let key in data){\n    proxy(vm,'_data',key)\n  }\n\n  console.log(data,'data')\n\n  // \n\n  observer(data)\n\n}\nfunction initComputed(vm){\n\n}\nfunction initWatch(vm){\n\n}\n\n","// <div id=\"app\">hello {{name}} <span>world</span></div>\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名\n\n// ?: 匹配不捕获\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <my:xx>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\n\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)'|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // 匹配 {{name}} 插值表达式\n\n\n\n\n\nexport function parseHTML(html){\n  function createASTElement(tagName,attrs){\n  return {\n    tag:tagName,\n    type:1,\n    children:[],\n    attrs,\n    parent:null\n  }\n\n}\n\nlet root;\nlet currentParent;\nlet stack=[]\nfunction start(tagName,attrs){\n  console.log(tagName,attrs,'tagName  attrs')\n  let element=createASTElement(tagName,attrs)\n  if(!root){\n    root=element\n  }\n\n  currentParent=element  //当前解析的标签 保存起来\n\n  stack.push(element)\n}\n\nfunction end(tagName){\n  console.log(tagName,'end TagName')\n  let element=stack.pop()\n  currentParent=stack[stack.length-1]//取出来之后  把栈中最后一个作为父节点\n  if(currentParent){//在闭合时 可以知道这个标签的父亲是谁\n    element.parent=currentParent\n    currentParent.children.push(element)\n  }\n\n\n\n\n}\n\nfunction chars(text){\n  console.log(text,'text')\n  text=text.replace(/\\s/g,'')\n  if(text){\n    currentParent.children.push({\n      type:3,\n      text\n    })\n  }\n\n}\n\n\n  while(html){//只要html不为空字符串就一直解析\n    let textEnd=html.indexOf('<')\n    if(textEnd==0){\n      // 肯定是标签\n      const startTagMatch=parseTagStart();//开始标签匹配的结果\n      if(startTagMatch){\n        start(startTagMatch.tagName,startTagMatch.attrs)\n\n        continue\n\n      }\n\n      const endTagMatch=html.match(endTag)\n      if(endTagMatch){\n        end(endTagMatch[1])\n        advance(endTagMatch[0].length)\n\n        continue\n      }\n\n\n    }\n\n    let text;\n    if(textEnd>0){//是文本\n      text=html.substring(0,textEnd)\n    }\n\n    if(text){\n      chars(text)\n      advance(text.length)\n      continue\n    }\n\n\n\n\n    break\n\n  }\n\n  function advance(n){//将字符串进行截取操作  再更新html内容\n    html=html.substring(n)\n\n  }\n\n  function parseTagStart(){\n    const start=html.match(startTagOpen)\n\n    if(start){\n      const match={\n        tagName:start[1],\n        attrs:[]\n      }\n\n      advance(start[0].length);//删除开始标签\n\n      // 如果直接是闭合标签了  说明没有属性\n      let end;\n      let attr;\n      // 不是结尾标签  能匹配到属性\n      while(!(end=html.match(startTagClose))&&(attr=html.match(attribute))){\n        match.attrs.push({\n          name:attr[1],\n          value:attr[2]||attr[3]||attr[4]||true\n        })\n        advance(attr[0].length)\n      }\n\n\n      if(end){\n        // 结尾了\n        advance(end[0].length)\n\n        return match\n      }\n    \n    }\n\n  }\n\n  return root\n\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // 全局匹配\n\n\nfunction genProps(attrs){ //id  \"app\"  style \"color:red\"\n  // 如果是style  拼成双{}的形式\n  let str=''\n  for(let i=0;i<attrs.length;i++){\n    let attr=attrs[i]\n    if(attr.name==='style'){\n      let obj={}\n      attr.value.split(\";\").forEach(item => {\n        let [key,value]=item.split(':')\n        obj[key]=value\n        \n      });\n\n      attr.value=obj\n    }\n\n    str+=`${attr.name}:${JSON.stringify(attr.value)},`\n  }\n  return `{${str.slice(0,-1)}}`\n}\n\nfunction gen(node) {\n  if (node.type === 1) {\n    return generate(node);\n  } else {\n    let text = node.text;\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`;\n    }\n\n    let tokens = [];\n    let lastIndex = defaultTagRE.lastIndex = 0;\n    let match, index;\n\n    while ((match = defaultTagRE.exec(text))) {\n      index = match.index;\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      tokens.push(`_s(${match[1].trim()})`);\n      lastIndex = index + match[0].length;\n    }\n\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)));\n    }\n\n    return `_v(${tokens.join('+')})`;\n  }\n}\n\nfunction getChildren(el){\n  const children=el.children\n  if(children){//将所有转化后的儿子用,拼接起来\n    return children.map(child=>gen(child)).join(',')\n\n  }\n\n}\nexport function generate(el){\n  let children=getChildren(el)\n  let code=`_c('${el.tag}',${\n    el.attrs.length?`${genProps(el.attrs)}`:'undefined'\n  \n  }${\n    children?`,${children}`:''\n  })`\n\n\n  return code\n\n}","import { parseHTML } from \"./parse\"\nimport { generate } from \"./generate\"\n\nexport function compileToFunction(template){\n  // html模板 =>render函数\n  // 1.需要将html代码转换成\"ast\"语法树  可以用ast树来描述语言本身\n\n  // 虚拟dom  是用对象来描述节点的\n\n  let ast=parseHTML(template)\n\n   console.log(ast,'ast')\n\n  //  2.优化i静态节点\n\n\n  // 3.通过这棵树 重新生成的代码\n  const code=generate(ast)\n\n  // 4.将字符串变成函数  限制取值范围  通过with来进行取值  稍后调用render函数\n  // 就可以通过改变this  让这个函数内部取到结果了\n  let render=new Function(`with(this){return ${code}}`)\n\n\n  console.log(render)\n\n  return render\n\n\n\n\n\n\n}","export function patch(oldVnode,vnode){\n  // 将虚拟节点转换成真实节点\n  let el=createElm(vnode)//产生真实的dom\n  let parentElm=oldVnode.parentNode;//获取老的app的父亲 =>body\n  parentElm.insertBefore(el,oldVnode.nextSibling) //当前的真实元素插入到app的后面\n  parentElm.removeChild(oldVnode)//删除老的节点\n\n  return el\n\n}\n\n\nfunction createElm(vnode){\n  let {tag,children,key,data,text}=vnode\n  if(typeof tag=='string'){ //创建元素  放到vnode.el上\n    vnode.el=document.createElement(tag)\n\n\n    // 只有元素才有属性\n    updateProperties(vnode)\n\n\n\n\n    children.forEach(child => { //遍历儿子  将儿子渲染后的结果扔到父亲中\n      vnode.el.appendChild(createElm(child))\n      \n    });\n  }else{ //创建文件  放到vnode.el上\n    vnode.el=document.createTextNode(text)\n  }\n\n  return vnode.el\n\n}\n\n// vue 的渲染流程=>先初始化数据=>将模板进行编译=>render函数=>生成虚拟节点=>生成真实的dom=>扔到页面上\n\n\nfunction updateProperties(vnode){\n  let el=vnode.el;\n  let newProps=vnode.data||{}\n  for(let key in newProps){\n\n    if(key=='style'){\n      for(let styleName in newProps.style){\n        el.style[styleName]=newProps.style[styleName]\n      }\n    }else if(key=='class'){\n      el.className=el.class\n    }\n\n\n    el.setAttribute(key,newProps[key])\n  }\n\n}","import { pushTarget,popTarget } from \"./dep\"\nlet id=0\n\nexport class Watcher{\n  // vm实例\n  // exprOrFn  vm._update(vm._render())\n  constructor(vm,exprOrFn,cb,options){\n    this.vm=vm\n    this.exprOrFn=exprOrFn\n    this.cb=cb\n    this.options=options\n\n    if(typeof exprOrFn==='function'){\n      this.getter=exprOrFn\n    }\n\n    this.get()\n\n\n  }\n\n  get(){\n    pushTarget(this);//当前watcher实例\n    this.getter()\n    popTarget();\n  }\n\n  update(){\n    this.get()\n  }\n}","import { patch } from \"./vdom/patch\"\nimport { Watcher } from \"./observer/watcher\"\nexport function lifecycleMixin(Vue){\n  Vue.prototype._update=function(vnode){\n    console.log(vnode,'vnode')\n\n    const vm=this\n    vm.$el=patch(vm.$el,vnode)\n\n  }\n\n}\nexport function mountComponent(vm,el){\n  callHook(vm,'beforeMount')\n  // 调用render方法去渲染  el属性\n\n  // 先调用render方法创建虚拟节点  再将虚拟节点渲染到页面上\n  // vm._update(vm._render())\n  let updateComponent=()=>{\n    vm._update(vm._render())\n  }\n\n  // 这个watcher是用来渲染的   暂时没有任何功能\n  let watch=new Watcher(vm,updateComponent,()=>{\n    callHook(vm,'beforeUpdate')\n  },true)\n\n  callHook(vm,'mounted')\n\n}\n\n\n// callHook(vm,'beforeCreate')\nexport function callHook(vm,hook){\n  const handlers=vm.$options[hook]\n  if(handlers){\n    for(let i=0;i<handlers.length;i++){\n      handlers[i].call(vm)\n    }\n  }\n\n}","import { initState } from \"./state\"\nimport {compileToFunction} from './compiler/index.js'\nimport {callHook, mountComponent} from './lifecycle.js'\nimport { mergeOptions } from \"./utils.js\"\nexport function initMixin(Vue){\n  Vue.prototype._init=function(options){\n    const vm=this\n    // vm.$options=options\n    vm.$options=mergeOptions(vm.constructor.options,options)\n\n    console.log(vm.$options,'vm.$option')\n    callHook(vm,'beforeCreate')\n    initState(vm)\n    callHook(vm,'created')\n\n\n    // 如果当前有el属性说明要渲染模板\n    if(vm.$options.el){\n      vm.$mount(vm.$options.el)\n\n    }\n\n  }\n\n\n  Vue.prototype.$mount=function(el){\n    // 挂载操作\n    const vm=this;\n    const options=vm.$options\n    el=document.querySelector(el)\n    vm.$el=el;\n\n    if(!options.render){\n      let template=options.template\n      if(!template&&el){\n        template=el.outerHTML\n      }\n\n      // 将模板转换成render函数\n      const render=compileToFunction(template)\n\n      options.render=render\n\n    }\n\n    // 渲染时用的就是这个render\n    // 需要挂载这个组件\n    mountComponent(vm,el)\n\n  }\n}\n\n\n","export function renderMixin(Vue){\n  Vue.prototype._c=function(){//创建虚拟dom元素\n    return createElement(...arguments)\n\n  }\n\n  Vue.prototype._s=function(val){//stringify\n    return val==null?'':(typeof val === 'object')?JSON.stringify(val):val\n\n  }\n\n  Vue.prototype._v=function(text){//创建虚拟dom文本元素\n    return createTextVnode(text)\n  }\n  Vue.prototype._render=function(){\n    const vm=this\n    const render=vm.$options.render\n    \n    return render.call(vm)\n\n  }\n\n}\n\n//  _c('div',{},1,2,3,4,5)\nfunction createElement(tag,data={},...children){\n  console.log(arguments,'arguments')\n  return vnode(tag,data,data.key,children)\n}\n\nfunction createTextVnode(text){\n  console.log(text,'text')\n  return vnode(undefined,undefined,undefined,undefined,text)\n}\n\n// 用来产生虚拟的\nfunction vnode(tag,data,key,children,text){\n  return {\n    tag,\n    data,\n    key,\n    children,\n    text\n  }\n\n}","import { mergeOptions } from \"../utils\";\nexport function initGlobalApi(Vue){\n  Vue.options={};\n  Vue.mixin=function(mixin){\n    // 合并对象  (我先考虑生命周期)  不考虑其他的合并   data computed watch\n    this.options=mergeOptions(this.options,mixin)\n    // this.options={created:[a(){},b(){}]}\n\n  }\n\n}","import { initMixin } from \"./init\"\nimport { lifecycleMixin } from \"./lifecycle\"\nimport { renderMixin } from \"./vdom/index\"\nimport { initGlobalApi } from \"./global-api/index\"\nfunction Vue(options){\n  this._init(options)//入口方法  做初始化操作\n\n\n}\n\n\n\ninitMixin(Vue)\nlifecycleMixin(Vue)\nrenderMixin(Vue)\n\n\ninitGlobalApi(Vue)\n\n\n\nexport default Vue"],"names":["oldArrayProtoMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","_len","arguments","length","args","_key","result","apply","inserted","ob","__ob__","slice","observeArray","proxy","vm","data","key","defineProperty","get","set","newValue","target","value","enumerable","configurable","LIFECYCLE_HOOKS","strats","parentVal","childValue","computed","watch","mergeHook","concat","hook","mergeOptions","parent","child","console","log","options","mergeField","hasOwnProperty","Dep","_classCallCheck","subs","_createClass","depend","push","notify","watcher","update","pushTarget","popTarget","Observer","isArray","__proto__","walk","item","observer","keys","defineReactive","dep","_typeof","initState","opts","$options","props","initData","_data","call","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createASTElement","tagName","attrs","tag","type","children","root","currentParent","stack","start","element","end","pop","chars","text","replace","textEnd","indexOf","startTagMatch","parseTagStart","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","str","_loop","i","obj","split","_item$split","_item$split2","_slicedToArray","JSON","stringify","gen","node","generate","test","tokens","lastIndex","index","exec","trim","join","getChildren","el","map","code","compileToFunction","template","ast","render","Function","patch","oldVnode","vnode","createElm","parentElm","parentNode","insertBefore","nextSibling","removeChild","document","createElement","updateProperties","appendChild","createTextNode","newProps","styleName","style","className","setAttribute","Watcher","exprOrFn","cb","getter","lifecycleMixin","Vue","_update","$el","mountComponent","callHook","updateComponent","_render","handlers","initMixin","_init","constructor","$mount","querySelector","outerHTML","renderMixin","_c","_s","val","_v","createTextVnode","undefined","initGlobalApi","mixin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;EACA,IAAIA,oBAAoB,GAACC,KAAK,CAACC,SAAS,CAAA;;EAExC;EACO,IAAIC,YAAY,GAACC,MAAM,CAACC,MAAM,CAACL,oBAAoB,CAAC,CAAA;EAE3D,IAAIM,OAAO,GAAC,CACV,MAAM,EACN,KAAK,EACL,OAAO,EACP,SAAS,EACT,SAAS,EACT,MAAM,EACN,QAAQ,CACT,CAAA;EAEDA,OAAO,CAACC,OAAO,CAAC,UAAAC,MAAM,EAAE;EACtBL,EAAAA,YAAY,CAACK,MAAM,CAAC,GAAC,YAAiB;EAAA,IAAA,KAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAALC,IAAI,GAAAX,IAAAA,KAAA,CAAAQ,IAAA,GAAAI,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAJ,IAAA,EAAAI,IAAA,EAAA,EAAA;EAAJD,MAAAA,IAAI,CAAAC,IAAA,CAAAH,GAAAA,SAAA,CAAAG,IAAA,CAAA,CAAA;EAAA,KAAA;EACnC,IAAA,IAAMC,MAAM,GAACd,oBAAoB,CAACQ,MAAM,CAAC,CAACO,KAAK,CAAC,IAAI,EAACH,IAAI,CAAC,CAAA;EAC1D,IAAA,IAAII,QAAQ,CAAA;EACZ,IAAA,IAAIC,EAAE,GAAC,IAAI,CAACC,MAAM,CAAA;EAClB,IAAA,QAAOV,MAAM;EACX,MAAA,KAAK,MAAM,CAAA;EACX,MAAA,KAAK,SAAS;EACd;EACAQ,QAAAA,QAAQ,GAACJ,IAAI,CAAA;EACb,QAAA,MAAA;EACA,MAAA,KAAK,QAAQ;EAAC;EACdI,QAAAA,QAAQ,GAACJ,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC;EACvB,QAAA,MAAA;EAGF,KAAA;MAEA,IAAGH,QAAQ,EAAEC,EAAE,CAACG,YAAY,CAACJ,QAAQ,CAAC,CAAC;EACvC,IAAA,OAAOF,MAAM,CAAA;KACd,CAAA;EACH,CAAC,CAAC;;ECrCK,SAASO,KAAKA,CAACC,EAAE,EAACC,IAAI,EAACC,GAAG,EAAC;EAChCpB,EAAAA,MAAM,CAACqB,cAAc,CAACH,EAAE,EAACE,GAAG,EAAC;MAC3BE,GAAG,EAAA,SAAHA,GAAGA,GAAE;EACH,MAAA,OAAOJ,EAAE,CAACC,IAAI,CAAC,CAACC,GAAG,CAAC,CAAE;OACvB;EACDG,IAAAA,GAAG,EAAHA,SAAAA,GAAGA,CAACC,QAAQ,EAAC;EACXN,MAAAA,EAAE,CAACC,IAAI,CAAC,CAACC,GAAG,CAAC,GAACI,QAAQ,CAAA;EAExB,KAAA;EACF,GAAC,CAAC,CAAA;EAGJ,CAAA;EAGO,SAASH,cAAcA,CAACI,MAAM,EAACL,GAAG,EAACM,KAAK,EAAC;EAC1C1B,EAAAA,MAAM,CAACqB,cAAc,CAACI,MAAM,EAACL,GAAG,EAAC;EACjCO,IAAAA,UAAU,EAAC,KAAK;EAAC;EACjBC,IAAAA,YAAY,EAAC,KAAK;EAClBF,IAAAA,KAAK,EAACA,KAAAA;EACR,GAAC,CAAC,CAAA;EACN,CAAA;EAEO,IAAMG,eAAe,GAAC,CAC3B,cAAc,EACd,SAAS,EACT,aAAa,EACb,SAAS,EACT,cAAc,EACd,SAAS,EACT,eAAe,EACf,WAAW,CACZ,CAAA;EAED,IAAMC,MAAM,GAAC,EAAE,CAAA;EACfA,MAAM,CAACX,IAAI,GAAC,UAASY,SAAS,EAACC,UAAU,EAAC;EACxC,EAAA,OAAOA,UAAU,CAAA;EAEnB,CAAC,CAAA;EACDF,MAAM,CAACG,QAAQ,GAAC,YAAU,EAEzB,CAAA;EACDH,MAAM,CAACI,KAAK,GAAC,YAAU,EAEtB,CAAA;EAED,SAASC,SAASA,CAACJ,SAAS,EAACC,UAAU,EAAC;EAAC;EACvC,EAAA,IAAGA,UAAU,EAAC;EACZ,IAAA,IAAGA,UAAU,EAAC;EACZ,MAAA,IAAGD,SAAS,EAAC;EACX,QAAA,OAAOA,SAAS,CAACK,MAAM,CAACJ,UAAU,CAAC,CAAA;EACrC,OAAC,MAAI;UACH,OAAO,CAACA,UAAU,CAAC,CAAC;EACtB,OAAA;EACF,KAAA;EAEF,GAAC,MAAI;EACH,IAAA,OAAOD,SAAS,CAAC;EACnB,GAAA;EAEF,CAAA;EAEAF,eAAe,CAAC1B,OAAO,CAAC,UAAAkC,IAAI,EAAE;EAC5BP,EAAAA,MAAM,CAACO,IAAI,CAAC,GAACF,SAAS,CAAA;EACxB,CAAC,CAAC,CAAA;EAEK,SAASG,YAAYA,CAACC,MAAM,EAACC,KAAK,EAAC;IACxCC,OAAO,CAACC,GAAG,CAACH,MAAM,EAACC,KAAK,EAAC,eAAe,CAAC,CAAA;EACzC;IACA,IAAMG,OAAO,GAAC,EAAE,CAAA;EAEhB,EAAA,KAAI,IAAIvB,GAAG,IAAImB,MAAM,EAAC;EAAC;MACrBK,UAAU,CAACxB,GAAG,CAAC,CAAA;EACfqB,IAAAA,OAAO,CAACC,GAAG,CAAC,CAAC,EAACtB,GAAG,CAAC,CAAA;EACpB,GAAA;;EAEA;EACA,EAAA,KAAI,IAAIA,IAAG,IAAIoB,KAAK,EAAC;EAAE;EACrB,IAAA,IAAG,CAACD,MAAM,CAACM,cAAc,CAACzB,IAAG,CAAC,EAAC;EAC7BqB,MAAAA,OAAO,CAACC,GAAG,CAAC,CAAC,EAACtB,IAAG,CAAC,CAAA;QAClBwB,UAAU,CAACxB,IAAG,CAAC,CAAA;EACjB,KAAA;EAEF,GAAA;IAEA,SAASwB,UAAUA,CAACxB,GAAG,EAAC;EAAC;EACvB;EACA,IAAA,IAAGU,MAAM,CAACV,GAAG,CAAC,EAAC;EACbuB,MAAAA,OAAO,CAACvB,GAAG,CAAC,GAAEU,MAAM,CAACV,GAAG,CAAC,CAACmB,MAAM,CAACnB,GAAG,CAAC,EAACoB,KAAK,CAACpB,GAAG,CAAC,CAAC,CAAA;EACnD,KAAC,MAAI;EACH;EACAuB,MAAAA,OAAO,CAACvB,GAAG,CAAC,GAACoB,KAAK,CAACpB,GAAG,CAAC,CAAA;EACzB,KAAA;EAEF,GAAA;EAIA,EAAA,OAAOuB,OAAO,CAAA;EAEhB;;MCpGMG,GAAG,gBAAA,YAAA;EACP,EAAA,SAAAA,MAAa;EAAAC,IAAAA,eAAA,OAAAD,GAAA,CAAA,CAAA;MACX,IAAI,CAACE,IAAI,GAAC,EAAE,CAAA;EACd,GAAA;IAAC,OAAAC,YAAA,CAAAH,GAAA,EAAA,CAAA;MAAA1B,GAAA,EAAA,QAAA;EAAAM,IAAAA,KAAA,EACD,SAAAwB,MAAMA,GAAE;QACN,IAAI,CAACF,IAAI,CAACG,IAAI,CAACL,GAAG,CAACrB,MAAM,CAAC,CAAA;EAE5B,KAAA;EAAC,GAAA,EAAA;MAAAL,GAAA,EAAA,QAAA;EAAAM,IAAAA,KAAA,EAED,SAAA0B,MAAMA,GAAE;EACN,MAAA,IAAI,CAACJ,IAAI,CAAC7C,OAAO,CAAC,UAAAkD,OAAO,EAAA;EAAA,QAAA,OAAEA,OAAO,CAACC,MAAM,EAAE,CAAA;SAAC,CAAA,CAAA;EAC9C,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,CAAA,EAAA,CAAA;EAGI,SAASC,UAAUA,CAACF,OAAO,EAAC;IACjCP,GAAG,CAACrB,MAAM,GAAC4B,OAAO,CAAA;EAEpB,CAAA;EAEO,SAASG,SAASA,CAACH,OAAO,EAAC;EAChCP,EAAAA,GAAG,CAACrB,MAAM,GAAC,IAAI,CAAC;EAElB,CAAA;;EAKA;EACA;EACA;;EC3BuB,IAEjBgC,QAAQ,gBAAA,YAAA;IACZ,SAAAA,QAAAA,CAAY/B,KAAK,EAAC;EAAAqB,IAAAA,eAAA,OAAAU,QAAA,CAAA,CAAA;EAChB;EACApC,IAAAA,cAAc,CAACK,KAAK,EAAC,QAAQ,EAAC,IAAI,CAAC,CAAA;;EAEnC;EACA,IAAA,IAAG7B,KAAK,CAAC6D,OAAO,CAAChC,KAAK,CAAC,EAAC;EACtB;EACA;QACAA,KAAK,CAACiC,SAAS,GAAC5D,YAAY,CAAA;EAC5B;EACA,MAAA,IAAI,CAACiB,YAAY,CAACU,KAAK,CAAC,CAAA;EAE1B,KAAC,MAAI;EACL,MAAA,IAAI,CAACkC,IAAI,CAAClC,KAAK,CAAC,CAAA;EAChB,KAAA;EACF,GAAA;IAAC,OAAAuB,YAAA,CAAAQ,QAAA,EAAA,CAAA;MAAArC,GAAA,EAAA,cAAA;EAAAM,IAAAA,KAAA,EAED,SAAAV,YAAYA,CAACU,KAAK,EAAC;EACjBA,MAAAA,KAAK,CAACvB,OAAO,CAAC,UAAA0D,IAAI,EAAE;UAClBC,QAAQ,CAACD,IAAI,CAAC,CAAA;EAChB,OAAC,CAAC,CAAA;EAEJ,KAAA;EAAC,GAAA,EAAA;MAAAzC,GAAA,EAAA,MAAA;EAAAM,IAAAA,KAAA,EACD,SAAAkC,IAAIA,CAACzC,IAAI,EAAC;EACR,MAAA,IAAI4C,IAAI,GAAC/D,MAAM,CAAC+D,IAAI,CAAC5C,IAAI,CAAC,CAAA;EAC1B4C,MAAAA,IAAI,CAAC5D,OAAO,CAAC,UAACiB,GAAG,EAAG;UAClB4C,cAAc,CAAC7C,IAAI,EAACC,GAAG,EAACD,IAAI,CAACC,GAAG,CAAC,CAAC,CAAA;EACpC,OAAC,CAAC,CAAA;EAGJ,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,CAAA,EAAA,CAAA;EAGH,SAAS4C,cAAcA,CAAC7C,IAAI,EAACC,GAAG,EAACM,KAAK,EAAC;IACrCoC,QAAQ,CAACpC,KAAK,CAAC,CAAA;EACf,EAAA,IAAIuC,GAAG,GAAC,IAAInB,GAAG,EAAE,CAAC;EAClB9C,EAAAA,MAAM,CAACqB,cAAc,CAACF,IAAI,EAACC,GAAG,EAAC;MAC7BE,GAAG,EAAA,SAAHA,GAAGA,GAAE;QACH,IAAGwB,GAAG,CAACrB,MAAM,EAAC;UACZwC,GAAG,CAACf,MAAM,EAAE,CAAA;EACd,OAAA;EACAT,MAAAA,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CAAA;EACrB,MAAA,OAAOhB,KAAK,CAAA;OACb;EACDH,IAAAA,GAAG,EAAHA,SAAAA,GAAGA,CAACC,QAAQ,EAAC;EACXiB,MAAAA,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAAA;QAClB,IAAGlB,QAAQ,KAAGE,KAAK,EAAG,OAAA;QACtBoC,QAAQ,CAACtC,QAAQ,CAAC,CAAC;EACnBE,MAAAA,KAAK,GAACF,QAAQ,CAAA;QAEdyC,GAAG,CAACb,MAAM,EAAE,CAAA;EACd,KAAA;EACF,GAAC,CAAC,CAAA;EAEJ,CAAA;EAEO,SAASU,QAAQA,CAAC3C,IAAI,EAAC;IAC5B,IAAG+C,OAAA,CAAO/C,IAAI,CAAA,KAAG,QAAQ,IAAEA,IAAI,KAAG,IAAI,EAAC;EACrC,IAAA,OAAQA,IAAI,CAAA;EACd,GAAA;IAEA,IAAGA,IAAI,CAACL,MAAM,EAAC;EACb,IAAA,OAAOK,IAAI,CAAA;EACb,GAAA;EAEA,EAAA,OAAO,IAAIsC,QAAQ,CAACtC,IAAI,CAAC,CAAA;EAE3B;;ECtEO,SAASgD,SAASA,CAACjD,EAAE,EAAC;EAC3B,EAAA,IAAMkD,IAAI,GAAClD,EAAE,CAACmD,QAAQ,CAAA;IACtB,IAAGD,IAAI,CAACE,KAAK,EAAC,CAEd;IAEA,IAAGF,IAAI,CAAClE,OAAO,EAAC,CAEhB;IAEA,IAAGkE,IAAI,CAACjD,IAAI,EAAC;MACXoD,QAAQ,CAACrD,EAAE,CAAC,CAAA;EACd,GAAA;IAEA,IAAGkD,IAAI,CAACnC,QAAQ,EAAC,CAEjB;IAEA,IAAGmC,IAAI,CAAClC,KAAK,EAAC,CAEd;EAEF,CAAA;EAUA,SAASqC,QAAQA,CAACrD,EAAE,EAAC;EACnB,EAAA,IAAIC,IAAI,GAACD,EAAE,CAACmD,QAAQ,CAAClD,IAAI,CAAA;EAEzBD,EAAAA,EAAE,CAACsD,KAAK,GAACrD,IAAI,GAAC,OAAOA,IAAI,IAAE,UAAU,GAACA,IAAI,CAACsD,IAAI,CAACvD,EAAE,CAAC,GAACC,IAAI,CAAA;EACxD;EACA;;EAEA;EACA,EAAA,KAAI,IAAIC,GAAG,IAAID,IAAI,EAAC;EAClBF,IAAAA,KAAK,CAACC,EAAE,EAAC,OAAO,EAACE,GAAG,CAAC,CAAA;EACvB,GAAA;EAEAqB,EAAAA,OAAO,CAACC,GAAG,CAACvB,IAAI,EAAC,MAAM,CAAC,CAAA;;EAExB;;IAEA2C,QAAQ,CAAC3C,IAAI,CAAC,CAAA;EAEhB;;ECpDA;EACA,IAAMuD,MAAM,GAAiC,8BAAA,CAAC;;EAE9C;EACA,IAAMC,YAAY,GAAAvC,MAAAA,CAAAA,MAAA,CAAUsC,MAAM,EAAAtC,OAAAA,CAAAA,CAAAA,MAAA,CAAQsC,MAAM,EAAG,GAAA,CAAA,CAAC;EACpD,IAAME,YAAY,GAAG,IAAIC,MAAM,CAAA,IAAA,CAAAzC,MAAA,CAAMuC,YAAY,CAAE,CAAC,CAAC;EACrD,IAAMG,MAAM,GAAG,IAAID,MAAM,CAAA,OAAA,CAAAzC,MAAA,CAASuC,YAAY,EAAA,QAAA,CAAQ,CAAC,CAAC;;EAExD,IAAMI,SAAS,GAAG,uEAAuE,CAAC;EAC1F,IAAMC,aAAa,GAAG,YAAY,CAAC;;EAO5B,SAASC,SAASA,CAACC,IAAI,EAAC;EAC7B,EAAA,SAASC,gBAAgBA,CAACC,OAAO,EAACC,KAAK,EAAC;MACxC,OAAO;EACLC,MAAAA,GAAG,EAACF,OAAO;EACXG,MAAAA,IAAI,EAAC,CAAC;EACNC,MAAAA,QAAQ,EAAC,EAAE;EACXH,MAAAA,KAAK,EAALA,KAAK;EACL9C,MAAAA,MAAM,EAAC,IAAA;OACR,CAAA;EAEH,GAAA;EAEA,EAAA,IAAIkD,IAAI,CAAA;EACR,EAAA,IAAIC,aAAa,CAAA;IACjB,IAAIC,KAAK,GAAC,EAAE,CAAA;EACZ,EAAA,SAASC,KAAKA,CAACR,OAAO,EAACC,KAAK,EAAC;MAC3B5C,OAAO,CAACC,GAAG,CAAC0C,OAAO,EAACC,KAAK,EAAC,gBAAgB,CAAC,CAAA;EAC3C,IAAA,IAAIQ,OAAO,GAACV,gBAAgB,CAACC,OAAO,EAACC,KAAK,CAAC,CAAA;MAC3C,IAAG,CAACI,IAAI,EAAC;EACPA,MAAAA,IAAI,GAACI,OAAO,CAAA;EACd,KAAA;MAEAH,aAAa,GAACG,OAAO,CAAE;;EAEvBF,IAAAA,KAAK,CAACxC,IAAI,CAAC0C,OAAO,CAAC,CAAA;EACrB,GAAA;IAEA,SAASC,GAAGA,CAACV,OAAO,EAAC;EACnB3C,IAAAA,OAAO,CAACC,GAAG,CAAC0C,OAAO,EAAC,aAAa,CAAC,CAAA;EAClC,IAAA,IAAIS,OAAO,GAACF,KAAK,CAACI,GAAG,EAAE,CAAA;MACvBL,aAAa,GAACC,KAAK,CAACA,KAAK,CAACpF,MAAM,GAAC,CAAC,CAAC,CAAA;EACnC,IAAA,IAAGmF,aAAa,EAAC;EAAC;QAChBG,OAAO,CAACtD,MAAM,GAACmD,aAAa,CAAA;EAC5BA,MAAAA,aAAa,CAACF,QAAQ,CAACrC,IAAI,CAAC0C,OAAO,CAAC,CAAA;EACtC,KAAA;EAKF,GAAA;IAEA,SAASG,KAAKA,CAACC,IAAI,EAAC;EAClBxD,IAAAA,OAAO,CAACC,GAAG,CAACuD,IAAI,EAAC,MAAM,CAAC,CAAA;MACxBA,IAAI,GAACA,IAAI,CAACC,OAAO,CAAC,KAAK,EAAC,EAAE,CAAC,CAAA;EAC3B,IAAA,IAAGD,IAAI,EAAC;EACNP,MAAAA,aAAa,CAACF,QAAQ,CAACrC,IAAI,CAAC;EAC1BoC,QAAAA,IAAI,EAAC,CAAC;EACNU,QAAAA,IAAI,EAAJA,IAAAA;EACF,OAAC,CAAC,CAAA;EACJ,KAAA;EAEF,GAAA;EAGE,EAAA,OAAMf,IAAI,EAAC;EAAC;EACV,IAAA,IAAIiB,OAAO,GAACjB,IAAI,CAACkB,OAAO,CAAC,GAAG,CAAC,CAAA;MAC7B,IAAGD,OAAO,IAAE,CAAC,EAAC;EACZ;EACA,MAAA,IAAME,aAAa,GAACC,aAAa,EAAE,CAAC;EACpC,MAAA,IAAGD,aAAa,EAAC;UACfT,KAAK,CAACS,aAAa,CAACjB,OAAO,EAACiB,aAAa,CAAChB,KAAK,CAAC,CAAA;EAEhD,QAAA,SAAA;EAEF,OAAA;EAEA,MAAA,IAAMkB,WAAW,GAACrB,IAAI,CAACsB,KAAK,CAAC1B,MAAM,CAAC,CAAA;EACpC,MAAA,IAAGyB,WAAW,EAAC;EACbT,QAAAA,GAAG,CAACS,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;EACnBE,QAAAA,OAAO,CAACF,WAAW,CAAC,CAAC,CAAC,CAAChG,MAAM,CAAC,CAAA;EAE9B,QAAA,SAAA;EACF,OAAA;EAGF,KAAA;EAEA,IAAA,IAAI0F,IAAI,GAAA,KAAA,CAAA,CAAA;MACR,IAAGE,OAAO,GAAC,CAAC,EAAC;EAAC;QACZF,IAAI,GAACf,IAAI,CAACwB,SAAS,CAAC,CAAC,EAACP,OAAO,CAAC,CAAA;EAChC,KAAA;EAEA,IAAA,IAAGF,IAAI,EAAC;QACND,KAAK,CAACC,IAAI,CAAC,CAAA;EACXQ,MAAAA,OAAO,CAACR,IAAI,CAAC1F,MAAM,CAAC,CAAA;EACpB,MAAA,SAAA;EACF,KAAA;EAKA,IAAA,MAAA;EAEF,GAAA;IAEA,SAASkG,OAAOA,CAACE,CAAC,EAAC;EAAC;EAClBzB,IAAAA,IAAI,GAACA,IAAI,CAACwB,SAAS,CAACC,CAAC,CAAC,CAAA;EAExB,GAAA;IAEA,SAASL,aAAaA,GAAE;EACtB,IAAA,IAAMV,KAAK,GAACV,IAAI,CAACsB,KAAK,CAAC5B,YAAY,CAAC,CAAA;EAEpC,IAAA,IAAGgB,KAAK,EAAC;EACP,MAAA,IAAMY,KAAK,GAAC;EACVpB,QAAAA,OAAO,EAACQ,KAAK,CAAC,CAAC,CAAC;EAChBP,QAAAA,KAAK,EAAC,EAAA;SACP,CAAA;QAEDoB,OAAO,CAACb,KAAK,CAAC,CAAC,CAAC,CAACrF,MAAM,CAAC,CAAC;;EAEzB;EACA,MAAA,IAAIuF,IAAG,CAAA;EACP,MAAA,IAAIc,IAAI,CAAA;EACR;QACA,OAAM,EAAEd,IAAG,GAACZ,IAAI,CAACsB,KAAK,CAACxB,aAAa,CAAC,CAAC,KAAG4B,IAAI,GAAC1B,IAAI,CAACsB,KAAK,CAACzB,SAAS,CAAC,CAAC,EAAC;EACnEyB,QAAAA,KAAK,CAACnB,KAAK,CAAClC,IAAI,CAAC;EACf0D,UAAAA,IAAI,EAACD,IAAI,CAAC,CAAC,CAAC;EACZlF,UAAAA,KAAK,EAACkF,IAAI,CAAC,CAAC,CAAC,IAAEA,IAAI,CAAC,CAAC,CAAC,IAAEA,IAAI,CAAC,CAAC,CAAC,IAAE,IAAA;EACnC,SAAC,CAAC,CAAA;EACFH,QAAAA,OAAO,CAACG,IAAI,CAAC,CAAC,CAAC,CAACrG,MAAM,CAAC,CAAA;EACzB,OAAA;EAGA,MAAA,IAAGuF,IAAG,EAAC;EACL;EACAW,QAAAA,OAAO,CAACX,IAAG,CAAC,CAAC,CAAC,CAACvF,MAAM,CAAC,CAAA;EAEtB,QAAA,OAAOiG,KAAK,CAAA;EACd,OAAA;EAEF,KAAA;EAEF,GAAA;EAEA,EAAA,OAAOf,IAAI,CAAA;EAEb;;ECzJA,IAAMqB,YAAY,GAAG,0BAA0B,CAAC;;EAGhD,SAASC,QAAQA,CAAC1B,KAAK,EAAC;EAAE;EACxB;IACA,IAAI2B,GAAG,GAAC,EAAE,CAAA;IAAA,IAAAC,KAAA,GAAAA,SAAAA,KAAAA,GACqB;EAC7B,IAAA,IAAIL,IAAI,GAACvB,KAAK,CAAC6B,CAAC,CAAC,CAAA;EACjB,IAAA,IAAGN,IAAI,CAACC,IAAI,KAAG,OAAO,EAAC;QACrB,IAAIM,GAAG,GAAC,EAAE,CAAA;EACVP,MAAAA,IAAI,CAAClF,KAAK,CAAC0F,KAAK,CAAC,GAAG,CAAC,CAACjH,OAAO,CAAC,UAAA0D,IAAI,EAAI;EACpC,QAAA,IAAAwD,WAAA,GAAgBxD,IAAI,CAACuD,KAAK,CAAC,GAAG,CAAC;YAAAE,YAAA,GAAAC,cAAA,CAAAF,WAAA,EAAA,CAAA,CAAA;EAA1BjG,UAAAA,GAAG,GAAAkG,YAAA,CAAA,CAAA,CAAA;EAAC5F,UAAAA,KAAK,GAAA4F,YAAA,CAAA,CAAA,CAAA,CAAA;EACdH,QAAAA,GAAG,CAAC/F,GAAG,CAAC,GAACM,KAAK,CAAA;EAEhB,OAAC,CAAC,CAAA;QAEFkF,IAAI,CAAClF,KAAK,GAACyF,GAAG,CAAA;EAChB,KAAA;EAEAH,IAAAA,GAAG,OAAA5E,MAAA,CAAKwE,IAAI,CAACC,IAAI,EAAAzE,GAAAA,CAAAA,CAAAA,MAAA,CAAIoF,IAAI,CAACC,SAAS,CAACb,IAAI,CAAClF,KAAK,CAAC,EAAG,GAAA,CAAA,CAAA;KACnD,CAAA;EAdD,EAAA,KAAI,IAAIwF,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC7B,KAAK,CAAC9E,MAAM,EAAC2G,CAAC,EAAE,EAAA;MAAAD,KAAA,EAAA,CAAA;EAAA,GAAA;IAe9B,OAAA7E,GAAAA,CAAAA,MAAA,CAAW4E,GAAG,CAACjG,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAA,GAAA,CAAA,CAAA;EAC5B,CAAA;EAEA,SAAS2G,GAAGA,CAACC,IAAI,EAAE;EACjB,EAAA,IAAIA,IAAI,CAACpC,IAAI,KAAK,CAAC,EAAE;MACnB,OAAOqC,QAAQ,CAACD,IAAI,CAAC,CAAA;EACvB,GAAC,MAAM;EACL,IAAA,IAAI1B,IAAI,GAAG0B,IAAI,CAAC1B,IAAI,CAAA;EACpB,IAAA,IAAI,CAACa,YAAY,CAACe,IAAI,CAAC5B,IAAI,CAAC,EAAE;EAC5B,MAAA,OAAA,KAAA,CAAA7D,MAAA,CAAaoF,IAAI,CAACC,SAAS,CAACxB,IAAI,CAAC,EAAA,GAAA,CAAA,CAAA;EACnC,KAAA;MAEA,IAAI6B,MAAM,GAAG,EAAE,CAAA;EACf,IAAA,IAAIC,SAAS,GAAGjB,YAAY,CAACiB,SAAS,GAAG,CAAC,CAAA;MAC1C,IAAIvB,KAAK,EAAEwB,KAAK,CAAA;MAEhB,OAAQxB,KAAK,GAAGM,YAAY,CAACmB,IAAI,CAAChC,IAAI,CAAC,EAAG;QACxC+B,KAAK,GAAGxB,KAAK,CAACwB,KAAK,CAAA;QACnB,IAAIA,KAAK,GAAGD,SAAS,EAAE;EACrBD,QAAAA,MAAM,CAAC3E,IAAI,CAACqE,IAAI,CAACC,SAAS,CAACxB,IAAI,CAAClF,KAAK,CAACgH,SAAS,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAA;EAC3D,OAAA;EACAF,MAAAA,MAAM,CAAC3E,IAAI,CAAAf,KAAAA,CAAAA,MAAA,CAAOoE,KAAK,CAAC,CAAC,CAAC,CAAC0B,IAAI,EAAE,MAAG,CAAC,CAAA;QACrCH,SAAS,GAAGC,KAAK,GAAGxB,KAAK,CAAC,CAAC,CAAC,CAACjG,MAAM,CAAA;EACrC,KAAA;EAEA,IAAA,IAAIwH,SAAS,GAAG9B,IAAI,CAAC1F,MAAM,EAAE;EAC3BuH,MAAAA,MAAM,CAAC3E,IAAI,CAACqE,IAAI,CAACC,SAAS,CAACxB,IAAI,CAAClF,KAAK,CAACgH,SAAS,CAAC,CAAC,CAAC,CAAA;EACpD,KAAA;EAEA,IAAA,OAAA,KAAA,CAAA3F,MAAA,CAAa0F,MAAM,CAACK,IAAI,CAAC,GAAG,CAAC,EAAA,GAAA,CAAA,CAAA;EAC/B,GAAA;EACF,CAAA;EAEA,SAASC,WAAWA,CAACC,EAAE,EAAC;EACtB,EAAA,IAAM7C,QAAQ,GAAC6C,EAAE,CAAC7C,QAAQ,CAAA;EAC1B,EAAA,IAAGA,QAAQ,EAAC;EAAC;EACX,IAAA,OAAOA,QAAQ,CAAC8C,GAAG,CAAC,UAAA9F,KAAK,EAAA;QAAA,OAAEkF,GAAG,CAAClF,KAAK,CAAC,CAAA;EAAA,KAAA,CAAC,CAAC2F,IAAI,CAAC,GAAG,CAAC,CAAA;EAElD,GAAA;EAEF,CAAA;EACO,SAASP,QAAQA,CAACS,EAAE,EAAC;EAC1B,EAAA,IAAI7C,QAAQ,GAAC4C,WAAW,CAACC,EAAE,CAAC,CAAA;EAC5B,EAAA,IAAIE,IAAI,GAAAnG,MAAAA,CAAAA,MAAA,CAAQiG,EAAE,CAAC/C,GAAG,EAAA,IAAA,CAAA,CAAAlD,MAAA,CACpBiG,EAAE,CAAChD,KAAK,CAAC9E,MAAM,MAAA6B,MAAA,CAAI2E,QAAQ,CAACsB,EAAE,CAAChD,KAAK,CAAC,CAAA,GAAG,WAAW,CAAAjD,CAAAA,MAAA,CAGnDoD,QAAQ,OAAApD,MAAA,CAAKoD,QAAQ,CAAA,GAAG,EAAE,EACzB,GAAA,CAAA,CAAA;EAGH,EAAA,OAAO+C,IAAI,CAAA;EAEb;;ECvEO,SAASC,iBAAiBA,CAACC,QAAQ,EAAC;EACzC;EACA;;EAEA;;EAEA,EAAA,IAAIC,GAAG,GAACzD,SAAS,CAACwD,QAAQ,CAAC,CAAA;EAE1BhG,EAAAA,OAAO,CAACC,GAAG,CAACgG,GAAG,EAAC,KAAK,CAAC,CAAA;;EAEvB;;EAGA;EACA,EAAA,IAAMH,IAAI,GAACX,QAAQ,CAACc,GAAG,CAAC,CAAA;;EAExB;EACA;IACA,IAAIC,MAAM,GAAC,IAAIC,QAAQ,sBAAAxG,MAAA,CAAsBmG,IAAI,EAAA,GAAA,CAAG,CAAC,CAAA;EAGrD9F,EAAAA,OAAO,CAACC,GAAG,CAACiG,MAAM,CAAC,CAAA;EAEnB,EAAA,OAAOA,MAAM,CAAA;EAOf;;ECjCO,SAASE,KAAKA,CAACC,QAAQ,EAACC,KAAK,EAAC;EACnC;EACA,EAAA,IAAIV,EAAE,GAACW,SAAS,CAACD,KAAK,CAAC,CAAA;EACvB,EAAA,IAAIE,SAAS,GAACH,QAAQ,CAACI,UAAU,CAAC;IAClCD,SAAS,CAACE,YAAY,CAACd,EAAE,EAACS,QAAQ,CAACM,WAAW,CAAC,CAAC;EAChDH,EAAAA,SAAS,CAACI,WAAW,CAACP,QAAQ,CAAC,CAAA;;EAE/B,EAAA,OAAOT,EAAE,CAAA;EAEX,CAAA;EAGA,SAASW,SAASA,CAACD,KAAK,EAAC;EACvB,EAAA,IAAKzD,GAAG,GAAyByD,KAAK,CAAjCzD,GAAG,CAAA;MAACE,QAAQ,GAAgBuD,KAAK,CAA7BvD,QAAQ,CAAA;MAAgBuD,KAAK,CAApB3H,GAAG,CAAA;MAAY2H,KAAK,CAAhB5H,IAAI,CAAA;UAAC8E,IAAI,GAAE8C,KAAK,CAAX9C,KAAI;EAC/B,EAAA,IAAG,OAAOX,GAAG,IAAE,QAAQ,EAAC;EAAE;MACxByD,KAAK,CAACV,EAAE,GAACiB,QAAQ,CAACC,aAAa,CAACjE,GAAG,CAAC,CAAA;;EAGpC;MACAkE,gBAAgB,CAACT,KAAK,CAAC,CAAA;EAKvBvD,IAAAA,QAAQ,CAACrF,OAAO,CAAC,UAAAqC,KAAK,EAAI;EAAE;QAC1BuG,KAAK,CAACV,EAAE,CAACoB,WAAW,CAACT,SAAS,CAACxG,KAAK,CAAC,CAAC,CAAA;EAExC,KAAC,CAAC,CAAA;EACJ,GAAC,MAAI;EAAE;MACLuG,KAAK,CAACV,EAAE,GAACiB,QAAQ,CAACI,cAAc,CAACzD,IAAI,CAAC,CAAA;EACxC,GAAA;IAEA,OAAO8C,KAAK,CAACV,EAAE,CAAA;EAEjB,CAAA;;EAEA;;EAGA,SAASmB,gBAAgBA,CAACT,KAAK,EAAC;EAC9B,EAAA,IAAIV,EAAE,GAACU,KAAK,CAACV,EAAE,CAAA;EACf,EAAA,IAAIsB,QAAQ,GAACZ,KAAK,CAAC5H,IAAI,IAAE,EAAE,CAAA;EAC3B,EAAA,KAAI,IAAIC,GAAG,IAAIuI,QAAQ,EAAC;MAEtB,IAAGvI,GAAG,IAAE,OAAO,EAAC;EACd,MAAA,KAAI,IAAIwI,SAAS,IAAID,QAAQ,CAACE,KAAK,EAAC;UAClCxB,EAAE,CAACwB,KAAK,CAACD,SAAS,CAAC,GAACD,QAAQ,CAACE,KAAK,CAACD,SAAS,CAAC,CAAA;EAC/C,OAAA;EACF,KAAC,MAAK,IAAGxI,GAAG,IAAE,OAAO,EAAC;EACpBiH,MAAAA,EAAE,CAACyB,SAAS,GAACzB,EAAE,CAAM,OAAA,CAAA,CAAA;EACvB,KAAA;MAGAA,EAAE,CAAC0B,YAAY,CAAC3I,GAAG,EAACuI,QAAQ,CAACvI,GAAG,CAAC,CAAC,CAAA;EACpC,GAAA;EAEF;;ECrDA,IAAa4I,OAAO,gBAAA,YAAA;EAClB;EACA;IACA,SAAAA,OAAAA,CAAY9I,EAAE,EAAC+I,QAAQ,EAACC,EAAE,EAACvH,OAAO,EAAC;EAAAI,IAAAA,eAAA,OAAAiH,OAAA,CAAA,CAAA;MACjC,IAAI,CAAC9I,EAAE,GAACA,EAAE,CAAA;MACV,IAAI,CAAC+I,QAAQ,GAACA,QAAQ,CAAA;MACtB,IAAI,CAACC,EAAE,GAACA,EAAE,CAAA;MACV,IAAI,CAACvH,OAAO,GAACA,OAAO,CAAA;EAEpB,IAAA,IAAG,OAAOsH,QAAQ,KAAG,UAAU,EAAC;QAC9B,IAAI,CAACE,MAAM,GAACF,QAAQ,CAAA;EACtB,KAAA;MAEA,IAAI,CAAC3I,GAAG,EAAE,CAAA;EAGZ,GAAA;IAAC,OAAA2B,YAAA,CAAA+G,OAAA,EAAA,CAAA;MAAA5I,GAAA,EAAA,KAAA;EAAAM,IAAAA,KAAA,EAED,SAAAJ,GAAGA,GAAE;QACHiC,UAAU,CAAC,IAAI,CAAC,CAAC;QACjB,IAAI,CAAC4G,MAAM,EAAE,CAAA;EACb3G,MAAAA,SAAS,EAAE,CAAA;EACb,KAAA;EAAC,GAAA,EAAA;MAAApC,GAAA,EAAA,QAAA;EAAAM,IAAAA,KAAA,EAED,SAAA4B,MAAMA,GAAE;QACN,IAAI,CAAChC,GAAG,EAAE,CAAA;EACZ,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,CAAA,EAAA;;EC3BI,SAAS8I,cAAcA,CAACC,GAAG,EAAC;EACjCA,EAAAA,GAAG,CAACvK,SAAS,CAACwK,OAAO,GAAC,UAASvB,KAAK,EAAC;EACnCtG,IAAAA,OAAO,CAACC,GAAG,CAACqG,KAAK,EAAC,OAAO,CAAC,CAAA;MAE1B,IAAM7H,EAAE,GAAC,IAAI,CAAA;MACbA,EAAE,CAACqJ,GAAG,GAAC1B,KAAK,CAAC3H,EAAE,CAACqJ,GAAG,EAACxB,KAAK,CAAC,CAAA;KAE3B,CAAA;EAEH,CAAA;EACO,SAASyB,cAAcA,CAACtJ,EAAE,EAACmH,EAAE,EAAC;EACnCoC,EAAAA,QAAQ,CAACvJ,EAAE,EAAC,aAAa,CAAC,CAAA;EAC1B;;EAEA;EACA;EACA,EAAA,IAAIwJ,eAAe,GAAC,SAAhBA,eAAeA,GAAK;MACtBxJ,EAAE,CAACoJ,OAAO,CAACpJ,EAAE,CAACyJ,OAAO,EAAE,CAAC,CAAA;KACzB,CAAA;;EAED;IACU,IAAIX,OAAO,CAAC9I,EAAE,EAACwJ,eAAe,EAAC,YAAI;EAC3CD,IAAAA,QAAQ,CAACvJ,EAAE,EAAC,cAAc,CAAC,CAAA;KAC5B,EAAC,IAAI,EAAC;EAEPuJ,EAAAA,QAAQ,CAACvJ,EAAE,EAAC,SAAS,CAAC,CAAA;EAExB,CAAA;;EAGA;EACO,SAASuJ,QAAQA,CAACvJ,EAAE,EAACmB,IAAI,EAAC;EAC/B,EAAA,IAAMuI,QAAQ,GAAC1J,EAAE,CAACmD,QAAQ,CAAChC,IAAI,CAAC,CAAA;EAChC,EAAA,IAAGuI,QAAQ,EAAC;EACV,IAAA,KAAI,IAAI1D,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC0D,QAAQ,CAACrK,MAAM,EAAC2G,CAAC,EAAE,EAAC;EAChC0D,MAAAA,QAAQ,CAAC1D,CAAC,CAAC,CAACzC,IAAI,CAACvD,EAAE,CAAC,CAAA;EACtB,KAAA;EACF,GAAA;EAEF;;ECrCO,SAAS2J,SAASA,CAACR,GAAG,EAAC;EAC5BA,EAAAA,GAAG,CAACvK,SAAS,CAACgL,KAAK,GAAC,UAASnI,OAAO,EAAC;MACnC,IAAMzB,EAAE,GAAC,IAAI,CAAA;EACb;EACAA,IAAAA,EAAE,CAACmD,QAAQ,GAAC/B,YAAY,CAACpB,EAAE,CAAC6J,WAAW,CAACpI,OAAO,EAACA,OAAO,CAAC,CAAA;MAExDF,OAAO,CAACC,GAAG,CAACxB,EAAE,CAACmD,QAAQ,EAAC,YAAY,CAAC,CAAA;EACrCoG,IAAAA,QAAQ,CAACvJ,EAAE,EAAC,cAAc,CAAC,CAAA;MAC3BiD,SAAS,CAACjD,EAAE,CAAC,CAAA;EACbuJ,IAAAA,QAAQ,CAACvJ,EAAE,EAAC,SAAS,CAAC,CAAA;;EAGtB;EACA,IAAA,IAAGA,EAAE,CAACmD,QAAQ,CAACgE,EAAE,EAAC;QAChBnH,EAAE,CAAC8J,MAAM,CAAC9J,EAAE,CAACmD,QAAQ,CAACgE,EAAE,CAAC,CAAA;EAE3B,KAAA;KAED,CAAA;EAGDgC,EAAAA,GAAG,CAACvK,SAAS,CAACkL,MAAM,GAAC,UAAS3C,EAAE,EAAC;EAC/B;MACA,IAAMnH,EAAE,GAAC,IAAI,CAAA;EACb,IAAA,IAAMyB,OAAO,GAACzB,EAAE,CAACmD,QAAQ,CAAA;EACzBgE,IAAAA,EAAE,GAACiB,QAAQ,CAAC2B,aAAa,CAAC5C,EAAE,CAAC,CAAA;MAC7BnH,EAAE,CAACqJ,GAAG,GAAClC,EAAE,CAAA;EAET,IAAA,IAAG,CAAC1F,OAAO,CAACgG,MAAM,EAAC;EACjB,MAAA,IAAIF,QAAQ,GAAC9F,OAAO,CAAC8F,QAAQ,CAAA;EAC7B,MAAA,IAAG,CAACA,QAAQ,IAAEJ,EAAE,EAAC;UACfI,QAAQ,GAACJ,EAAE,CAAC6C,SAAS,CAAA;EACvB,OAAA;;EAEA;EACA,MAAA,IAAMvC,MAAM,GAACH,iBAAiB,CAACC,QAAQ,CAAC,CAAA;QAExC9F,OAAO,CAACgG,MAAM,GAACA,MAAM,CAAA;EAEvB,KAAA;;EAEA;EACA;EACA6B,IAAAA,cAAc,CAACtJ,EAAK,CAAC,CAAA;KAEtB,CAAA;EACH;;EClDO,SAASiK,WAAWA,CAACd,GAAG,EAAC;EAC9BA,EAAAA,GAAG,CAACvK,SAAS,CAACsL,EAAE,GAAC,YAAU;EAAC;EAC1B,IAAA,OAAO7B,aAAa,CAAA5I,KAAA,CAAA,KAAA,CAAA,EAAIL,SAAS,CAAC,CAAA;KAEnC,CAAA;EAED+J,EAAAA,GAAG,CAACvK,SAAS,CAACuL,EAAE,GAAC,UAASC,GAAG,EAAC;EAAC;EAC7B,IAAA,OAAOA,GAAG,IAAE,IAAI,GAAC,EAAE,GAAEpH,OAAA,CAAOoH,GAAG,MAAK,QAAQ,GAAE9D,IAAI,CAACC,SAAS,CAAC6D,GAAG,CAAC,GAACA,GAAG,CAAA;KAEtE,CAAA;EAEDjB,EAAAA,GAAG,CAACvK,SAAS,CAACyL,EAAE,GAAC,UAAStF,IAAI,EAAC;EAAC;MAC9B,OAAOuF,eAAe,CAACvF,IAAI,CAAC,CAAA;KAC7B,CAAA;EACDoE,EAAAA,GAAG,CAACvK,SAAS,CAAC6K,OAAO,GAAC,YAAU;MAC9B,IAAMzJ,EAAE,GAAC,IAAI,CAAA;EACb,IAAA,IAAMyH,MAAM,GAACzH,EAAE,CAACmD,QAAQ,CAACsE,MAAM,CAAA;EAE/B,IAAA,OAAOA,MAAM,CAAClE,IAAI,CAACvD,EAAE,CAAC,CAAA;KAEvB,CAAA;EAEH,CAAA;;EAEA;EACA,SAASqI,aAAaA,CAACjE,GAAG,EAAqB;EAAA,EAAA,IAApBnE,IAAI,GAAAb,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAmL,SAAA,GAAAnL,SAAA,CAAA,CAAA,CAAA,GAAC,EAAE,CAAA;IAAA,KAAAD,IAAAA,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAIiF,QAAQ,OAAA3F,KAAA,CAAAQ,IAAA,GAAAA,CAAAA,GAAAA,IAAA,WAAAI,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAJ,IAAA,EAAAI,IAAA,EAAA,EAAA;EAAR+E,IAAAA,QAAQ,CAAA/E,IAAA,GAAAH,CAAAA,CAAAA,GAAAA,SAAA,CAAAG,IAAA,CAAA,CAAA;EAAA,GAAA;EAC5CgC,EAAAA,OAAO,CAACC,GAAG,CAACpC,SAAS,EAAC,WAAW,CAAC,CAAA;IAClC,OAAOyI,KAAK,CAACzD,GAAG,EAACnE,IAAI,EAACA,IAAI,CAACC,GAAG,EAACoE,QAAQ,CAAC,CAAA;EAC1C,CAAA;EAEA,SAASgG,eAAeA,CAACvF,IAAI,EAAC;EAC5BxD,EAAAA,OAAO,CAACC,GAAG,CAACuD,IAAI,EAAC,MAAM,CAAC,CAAA;IACxB,OAAO8C,KAAK,CAAC0C,SAAS,EAACA,SAAS,EAACA,SAAS,EAACA,SAAS,EAACxF,IAAI,CAAC,CAAA;EAC5D,CAAA;;EAEA;EACA,SAAS8C,KAAKA,CAACzD,GAAG,EAACnE,IAAI,EAACC,GAAG,EAACoE,QAAQ,EAACS,IAAI,EAAC;IACxC,OAAO;EACLX,IAAAA,GAAG,EAAHA,GAAG;EACHnE,IAAAA,IAAI,EAAJA,IAAI;EACJC,IAAAA,GAAG,EAAHA,GAAG;EACHoE,IAAAA,QAAQ,EAARA,QAAQ;EACRS,IAAAA,IAAI,EAAJA,IAAAA;KACD,CAAA;EAEH;;EC5CO,SAASyF,aAAaA,CAACrB,GAAG,EAAC;EAChCA,EAAAA,GAAG,CAAC1H,OAAO,GAAC,EAAE,CAAA;EACd0H,EAAAA,GAAG,CAACsB,KAAK,GAAC,UAASA,KAAK,EAAC;EACvB;MACA,IAAI,CAAChJ,OAAO,GAACL,YAAY,CAAC,IAAI,CAACK,OAAO,EAACgJ,KAAK,CAAC,CAAA;EAC7C;KAED,CAAA;EAEH;;ECNA,SAAStB,GAAGA,CAAC1H,OAAO,EAAC;EACnB,EAAA,IAAI,CAACmI,KAAK,CAACnI,OAAO,CAAC,CAAA;EAGrB,CAAA;EAIAkI,SAAS,CAACR,GAAG,CAAC,CAAA;EACdD,cAAc,CAACC,GAAG,CAAC,CAAA;EACnBc,WAAW,CAACd,GAAG,CAAC,CAAA;EAGhBqB,aAAa,CAACrB,GAAG,CAAC;;;;;;;;"}