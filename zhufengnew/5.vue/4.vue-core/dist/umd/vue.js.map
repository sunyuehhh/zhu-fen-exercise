{"version":3,"file":"vue.js","sources":["../../src/observer/array.js","../../src/utils.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/parse.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/init.js","../../src/index.js"],"sourcesContent":["// 拿到数组原型上的方法 (原来的方法)\nlet oldArrayProtoMethods=Array.prototype\n\n// 继承一下  arrayMethods.__proto__=oldArrayProtoMethods\nexport let arrayMethods=Object.create(oldArrayProtoMethods)\n\nlet methods=[\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'reverse',\n  'sort',\n  'splice'\n]\n\nmethods.forEach(method=>{\n  arrayMethods[method]=function(...args){\n    const result=oldArrayProtoMethods[method].apply(this,args)\n    let inserted;\n    let ob=this.__ob__;\n    switch(method){\n      case 'push':\n      case 'unshift':\n      // 这两个方法都是追加  追加的内容可能是对象类型  应该再次被劫持\n      inserted=args;\n      break\n      case 'splice'://Vue.$set原理\n      inserted=args.slice(2);//arr.splice(0,1,{a:1})\n      break\n      default:\n      break\n    }\n\n    if(inserted) ob.observeArray(inserted) //给数组新增的值也要进行观测\n    return result\n  }\n})\n","export function proxy(vm,data,key){\n  Object.defineProperty(vm,key,{\n    get(){\n      return vm[data][key]  //vm.a\n    },\n    set(newValue){\n      vm[data][key]=newValue\n\n    }\n  })\n\n\n}\n\n\nexport function defineProperty(target,key,value){\n      Object.defineProperty(target,key,{\n      enumerable:false,//不能被枚举  不能被循环出来\n      configurable:false,\n      value:value\n    })\n}","import { arrayMethods } from \"./array\"\nimport { defineProperty } from \"../utils\"\n\nclass Observer{\n  constructor(value){\n    // 判断一个对象是否被观测过看他有没有__ob__这个属性\n    defineProperty(value,'__ob__',this)\n\n    // 使用defineProperty重新定义属性\n    if(Array.isArray(value)){\n      // 我希望调用push shift unshift splice sort reverse pop\n      // 函数劫持   切片编程\n      value.__proto__=arrayMethods\n      // 观测数组中的对象类型  对象变化也要做一些事\n      this.observeArray(value)\n\n    }else{\n    this.walk(value)\n    }\n  }\n\n  observeArray(value){\n    value.forEach(item=>{\n      observer(item)//观测数组中的对象类型\n    })\n\n  }\n  walk(data){\n    let keys=Object.keys(data)\n    keys.forEach((key)=>{\n      defineReactive(data,key,data[key])//Vue.util.defineReactive\n    })\n\n\n  }\n}\n\nfunction defineReactive(data,key,value){\n  observer(value)\n  Object.defineProperty(data,key,{\n    get(){\n      console.log('用户获取值了')\n      return value\n    },\n    set(newValue){\n      console.log('设置值')\n      if(newValue===value)  return\n      observer(newValue) //如果用户将值改为对象  继续监控\n      value=newValue\n    }\n  })\n\n}\n\nexport function observer(data){\n  if(typeof data!=='object'&&data!==null){\n    return  data\n  }\n\n  if(data.__ob__){\n    return data\n  }\n\n  return new Observer(data)\n\n}\n\n\n","import { observer } from \"./observer/index.js\"\nimport { proxy } from \"./utils.js\"\nexport function initState(vm){\n  const opts=vm.$options\n  if(opts.props){\n    initProps(vm)\n  }\n\n  if(opts.methods){\n    initMethods(vm)\n  }\n\n  if(opts.data){\n    initData(vm)\n  }\n\n  if(opts.computed){\n    initComputed(vm)\n  }\n\n  if(opts.watch){\n    initWatch(vm)\n  }\n\n}\n\nfunction initProps(vm){\n\n}\n\nfunction initMethods(vm){\n\n}\n\nfunction initData(vm){\n  let data=vm.$options.data\n\n  vm._data=data=typeof data=='function'?data.call(vm):data\n  // 数据的劫持方案  对象Object.defineProperty\n  // 数组  单独处理\n\n  // 我去vm上取属性时  帮我将属性的取值代理到vm._data上\n  for(let key in data){\n    proxy(vm,'_data',key)\n  }\n\n  console.log(data,'data')\n\n  // \n\n  observer(data)\n\n}\nfunction initComputed(vm){\n\n}\nfunction initWatch(vm){\n\n}\n\n","// <div id=\"app\">hello {{name}} <span>world</span></div>\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名\n\n// ?: 匹配不捕获\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <my:xx>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\n\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)'|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // 匹配 {{name}} 插值表达式\n\n\n\n\n\nexport function parseHTML(html){\n  function createASTElement(tagName,attrs){\n  return {\n    tag:tagName,\n    type:1,\n    children:[],\n    attrs,\n    parent:null\n  }\n\n}\n\nlet root;\nlet currentParent;\nlet stack=[]\nfunction start(tagName,attrs){\n  console.log(tagName,attrs,'tagName  attrs')\n  let element=createASTElement(tagName,attrs)\n  if(!root){\n    root=element\n  }\n\n  currentParent=element  //当前解析的标签 保存起来\n\n  stack.push(element)\n}\n\nfunction end(tagName){\n  console.log(tagName,'end TagName')\n  let element=stack.pop()\n  currentParent=stack[stack.length-1]//取出来之后  把栈中最后一个作为父节点\n  if(currentParent){//在闭合时 可以知道这个标签的父亲是谁\n    element.parent=currentParent\n    currentParent.children.push(element)\n  }\n\n\n\n\n}\n\nfunction chars(text){\n  console.log(text,'text')\n  text=text.replace(/\\s/g,'')\n  if(text){\n    currentParent.children.push({\n      type:3,\n      text\n    })\n  }\n\n}\n\n\n  while(html){//只要html不为空字符串就一直解析\n    let textEnd=html.indexOf('<')\n    if(textEnd==0){\n      // 肯定是标签\n      const startTagMatch=parseTagStart();//开始标签匹配的结果\n      if(startTagMatch){\n        start(startTagMatch.tagName,startTagMatch.attrs)\n\n        continue\n\n      }\n\n      const endTagMatch=html.match(endTag)\n      if(endTagMatch){\n        end(endTagMatch[1])\n        advance(endTagMatch[0].length)\n\n        continue\n      }\n\n\n    }\n\n    let text;\n    if(textEnd>0){//是文本\n      text=html.substring(0,textEnd)\n    }\n\n    if(text){\n      chars(text)\n      advance(text.length)\n      continue\n    }\n\n\n\n\n    break\n\n  }\n\n  function advance(n){//将字符串进行截取操作  再更新html内容\n    html=html.substring(n)\n\n  }\n\n  function parseTagStart(){\n    const start=html.match(startTagOpen)\n\n    if(start){\n      const match={\n        tagName:start[1],\n        attrs:[]\n      }\n\n      advance(start[0].length);//删除开始标签\n\n      // 如果直接是闭合标签了  说明没有属性\n      let end;\n      let attr;\n      // 不是结尾标签  能匹配到属性\n      while(!(end=html.match(startTagClose))&&(attr=html.match(attribute))){\n        match.attrs.push({\n          name:attr[1],\n          value:attr[2]||attr[3]||attr[4]||true\n        })\n        advance(attr[0].length)\n      }\n\n\n      if(end){\n        // 结尾了\n        advance(end[0].length)\n\n        return match\n      }\n    \n    }\n\n  }\n\n  return root\n\n}","\nfunction genProps(attrs){ //id  \"app\"  style \"color:red\"\n  // 如果是style  拼成双{}的形式\n  let str=''\n  for(let i=0;i<attrs.length;i++){\n    let attr=attrs[i]\n    if(attr.name==='style'){\n      let obj={}\n      attr.value.split(\";\").forEach(item => {\n        let [key,value]=item.split(':')\n        obj[key]=value\n        \n      });\n\n      attr.value=obj\n    }\n\n    str+=`${attr.name}:${JSON.stringify(attr.value)},`\n  }\n  return `{${str.slice(0,-1)}}`\n}\n\nfunction gen(node){\n  if(node.type==1){\n    return generate(node);//生成元素节点的字符串\n  }else{\n    let text=node.text;//获取文本\n    // 如果是普通文本  不带{{}}\n\n    return `_v(${JSON.stringify(text)})`//_v(hello)\n\n  }\n\n}\n\nfunction getChildren(el){\n  const children=el.children\n  if(children){//将所有转化后的儿子用,拼接起来\n    return children.map(child=>gen(child)).join(',')\n\n  }\n\n}\nexport function generate(el){\n  let children=getChildren(el)\n  let code=`_c('${el.tag}',${\n    el.attrs.length?`${genProps(el.attrs)}`:'undefined'\n  \n  }${\n    children?`,${children}`:''\n  })`\n\n\n  return code\n\n}","import { parseHTML } from \"./parse\"\nimport { generate } from \"./generate\"\n\nexport function compileToFunction(template){\n  // html模板 =>render函数\n  // 1.需要将html代码转换成\"ast\"语法树  可以用ast树来描述语言本身\n\n  // 虚拟dom  是用对象来描述节点的\n\n  let ast=parseHTML(template)\n\n   console.log(ast,'ast')\n\n  //  2.优化i静态节点\n\n\n  // 3.通过这棵树 重新生成的代码\n  const render=generate(ast)\n\n  console.log(render,'render')\n\n\n\n\n\n\n}","import { initState } from \"./state\"\nimport {compileToFunction} from './compiler/index.js'\nexport function initMixin(Vue){\n  Vue.prototype._init=function(options){\n    const vm=this\n    vm.$options=options\n\n\n    initState(vm)\n\n\n    // 如果当前有el属性说明要渲染模板\n    if(vm.$options.el){\n      vm.$mount(vm.$options.el)\n\n    }\n\n  }\n\n\n  Vue.prototype.$mount=function(el){\n    // 挂载操作\n    const vm=this;\n    const options=vm.$options\n    el=document.querySelector(el)\n\n    if(!options.render){\n      let template=options.template\n      if(!template&&el){\n        template=el.outerHTML\n      }\n\n      // 将模板转换成render函数\n      const render=compileToFunction(template)\n\n\n      console.log(template,el,'template')\n\n      options.render=render\n\n    }\n\n    // console.log(render,'最后用的都是这个render方法')\n\n  }\n}\n\n\n","import { initMixin } from \"./init\"\nfunction Vue(options){\n  this._init(options)//入口方法  做初始化操作\n\n\n}\n\n\n\ninitMixin(Vue)\n\n\n\nexport default Vue"],"names":["oldArrayProtoMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","_len","arguments","length","args","_key","result","apply","inserted","ob","__ob__","slice","observeArray","proxy","vm","data","key","defineProperty","get","set","newValue","target","value","enumerable","configurable","Observer","_classCallCheck","isArray","__proto__","walk","_createClass","item","observer","keys","defineReactive","console","log","_typeof","initState","opts","$options","props","initData","computed","watch","_data","call","ncname","qnameCapture","concat","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createASTElement","tagName","attrs","tag","type","children","parent","root","currentParent","stack","start","element","push","end","pop","chars","text","replace","textEnd","indexOf","startTagMatch","parseTagStart","endTagMatch","match","advance","substring","n","attr","name","genProps","str","_loop","i","obj","split","_item$split","_item$split2","_slicedToArray","JSON","stringify","gen","node","generate","getChildren","el","map","child","join","code","compileToFunction","template","ast","render","initMixin","Vue","_init","options","$mount","document","querySelector","outerHTML"],"mappings":"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"}