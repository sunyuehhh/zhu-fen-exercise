{"version":3,"file":"vue.js","sources":["../../src/observer/array.js","../../src/utils.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/observer/watcher.js","../../src/state.js","../../src/compiler/parse.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/init.js","../../src/vdom/index.js","../../src/global-api/extend.js","../../src/global-api/index.js","../../src/index.js"],"sourcesContent":["// 拿到数组原型上的方法 (原来的方法)\nlet oldArrayProtoMethods=Array.prototype\n\n// 继承一下  arrayMethods.__proto__=oldArrayProtoMethods\nexport let arrayMethods=Object.create(oldArrayProtoMethods)\n\nlet methods=[\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'reverse',\n  'sort',\n  'splice'\n]\n\nmethods.forEach(method=>{\n  arrayMethods[method]=function(...args){\n    // 当调用数组我们劫持后的这7个方法  页面应该更新\n    // 我要知道数组对应哪个dep\n    const result=oldArrayProtoMethods[method].apply(this,args)\n    let inserted;\n    let ob=this.__ob__;\n    switch(method){\n      case 'push':\n      case 'unshift':\n      // 这两个方法都是追加  追加的内容可能是对象类型  应该再次被劫持\n      inserted=args;\n      break\n      case 'splice'://Vue.$set原理\n      inserted=args.slice(2);//arr.splice(0,1,{a:1})\n      break\n      default:\n      break\n    }\n\n    if(inserted) ob.observeArray(inserted) //给数组新增的值也要进行观测\n    ob.dep.notify()\n    return result\n  }\n})\n","export function proxy(vm,data,key){\n  Object.defineProperty(vm,key,{\n    get(){\n      return vm[data][key]  //vm.a\n    },\n    set(newValue){\n      vm[data][key]=newValue\n\n    }\n  })\n\n\n}\n\n\nexport function defineProperty(target,key,value){\n      Object.defineProperty(target,key,{\n      enumerable:false,//不能被枚举  不能被循环出来\n      configurable:false,\n      value:value\n    })\n}\n\nexport const LIFECYCLE_HOOKS=[\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed'\n]\n\nconst strats={}\n\nstrats.components=function(parentVal,childVal){\n  const res=Object.create(parentVal);//res.__proto__=parentVal\n  if(childVal){\n    for(let key in childVal){\n      res[key]=childVal[key]\n    }\n  }\n  return res\n\n}\n\n\nstrats.data=function(parentVal,childValue){\n  return childValue\n\n}\n// strats.computed=function(){\n\n// }\n// strats.watch=function(){\n\n// }\n\nfunction mergeHook(parentVal,childValue){//生命周期的合并\n  if(childValue){\n    if(childValue){\n      if(parentVal){\n        return parentVal.concat(childValue)\n      }else{\n        return [childValue];//{}  {created:function}\n      }\n    }\n\n  }else{\n    return parentVal;//不合并了  采用父亲的\n  }\n\n}\n\nLIFECYCLE_HOOKS.forEach(hook=>{\n  strats[hook]=mergeHook\n})\n\nexport function mergeOptions(parent,child){\n  console.log(parent,child,'patent  child')\n  // 遍历父亲  可能时父亲有  儿子没有\n  const options={}\n\n  for(let key in parent){//父亲和儿子都有在这儿就处理了\n    mergeField(key)\n    console.log(1,key)\n  }\n\n  // 儿子有  父亲没有  在这儿处理\n  for(let key in child){ //将儿子多的赋予给父亲\n    if(!parent.hasOwnProperty(key)){\n      console.log(2,key)\n      mergeField(key)\n    }\n\n  }\n\n  function mergeField(key){//合并字段\n    // 根据key  不同的策略来进行合并\n    if(strats[key]){\n      options[key]= strats[key](parent[key],child[key])\n    }else{\n      // todo 默认合并\n      if(child[key]){\n        options[key]=child[key]\n      }else{\n        options[key]=parent[key]\n      }\n    }\n\n  }\n\n\n\n  return options\n\n}\n\n// 先调自己的nextTick  再调用户的nextTick\nlet callbacks=[]\nlet pending=false\nfunction flushCallbacks(){\n  callbacks.forEach(cb=>cb())\n  pending=false\n  callbacks=[]\n}\n\nlet timerFunc;\nif(Promise){\n  timerFunc=()=>{\n    Promise.resolve().then(flushCallbacks);//异步处理更新\n  }\n}else if(MutationObserver){\n  let observe=new MutationObserver(flushCallbacks)\n  let textNode=document.createTextNode(1)\n  observe.observe(textNode,{characterData:true})\n\n  timerFunc=()=>{\n    textNode.textContent=2\n  }\n\n}else if(setImmediate){\n  timerFunc=()=>{\n    setImmediate(flushCallbacks)\n  }\n}else{\n  timerFunc=()=>{\n    setTimeout(flushCallbacks)\n  }\n}\nexport function nextTick(fun){\n  callbacks.push(fun)\n  if(!pending){\n  // vue3 里的nextTick原理就是promise.then 没有做兼容性处理\n  timerFunc();//这个方法是异步方法  做了兼容性处理\n  pending=true\n  }\n\n}\n\n\nfunction makeMpa(str){\n  const mapping={}\n  const list=str.split(\",\")\n  for(let i=0;i<list.length;i++){\n    mapping[list[i]]=true\n  }\n\n  return (key)=>{//判断这个标签名是不是原生标签\n    return mapping[key]\n  }\n\n}\n\n\nexport const isReservedTag=makeMpa(\n  'a,div,img,image,text,span,p,button,input,textarea,ul,li'\n)","let id=0\nclass Dep{\n  constructor(){\n    this.subs=[]\n    this.id=id++\n  }\n  depend(){\n    // this.subs.push(Dep.target)\n    Dep.target.addDep(this)\n\n  }\n\n  addSub(watcher){\n    this.subs.push(watcher)\n  }\n\n  notify(){\n    this.subs.forEach(watcher=>watcher.update())\n  }\n}\n\n\nDep.target=null;//静态属性  就一份\nlet stack=[]\n\n\nexport function pushTarget(watcher){\n  Dep.target=watcher;//保留watcher\n  stack.push(watcher);//有渲染watcher 其他watcher\n\n}\n\nexport function popTarget(watcher){\n  // Dep.target=null //将变量删除掉\n  stack.pop()\n  Dep.target=stack[stack.length-1];//将变量删除掉\n\n}\n\nexport default Dep\n\n\n// 多对多的关系  一个属性有一个dep是用来收集watcher的\n// dep  可以存搓个watcher\n// 一个watcher 可以对应多个dep","import { arrayMethods } from \"./array\"\nimport { defineProperty } from \"../utils\"\nimport Dep from \"./dep\"\n\nclass Observer{\n  constructor(value){\n    this.dep=new Dep();\n    // 判断一个对象是否被观测过看他有没有__ob__这个属性\n    defineProperty(value,'__ob__',this)\n\n    // 使用defineProperty重新定义属性\n    if(Array.isArray(value)){\n      // 我希望调用push shift unshift splice sort reverse pop\n      // 函数劫持   切片编程\n      value.__proto__=arrayMethods\n      // 观测数组中的对象类型  对象变化也要做一些事\n      this.observeArray(value)\n\n    }else{\n    this.walk(value)\n    }\n  }\n\n  observeArray(value){\n    value.forEach(item=>{\n      observer(item)//观测数组中的对象类型\n    })\n\n  }\n  walk(data){\n    let keys=Object.keys(data)\n    keys.forEach((key)=>{\n      defineReactive(data,key,data[key])//Vue.util.defineReactive\n    })\n\n\n  }\n}\n\nfunction defineReactive(data,key,value){\n  // 获取数组对应的dep\n  let childDep=observer(value)\n  let dep=new Dep();//每个属性都有一个dep\n  Object.defineProperty(data,key,{\n    get(){\n      if(Dep.target){\n        dep.depend()\n        if(childDep){\n          // 默认给数组增加一个dep属性  当对数组这个对象取值的时候\n          childDep.dep.depend();//数组存起来了这个渲染watcher\n        }\n      }\n      console.log('用户获取值了')\n      return value\n    },\n    set(newValue){\n      console.log('设置值')\n      if(newValue===value)  return\n      observer(newValue) //如果用户将值改为对象  继续监控\n      value=newValue\n\n      dep.notify()\n    }\n  })\n\n}\n\nexport function observer(data){\n  if(typeof data!=='object'&&data!==null){\n    return  \n  }\n\n  if(data.__ob__){\n    return data\n  }\n\n  return new Observer(data)\n\n}\n\n\n","import { pushTarget,popTarget } from \"./dep\"\nimport { nextTick } from \"../utils\"\nlet id=0\n\nexport class Watcher{\n  // vm实例\n  // exprOrFn  vm._update(vm._render())\n  constructor(vm,exprOrFn,cb,options={}){\n    this.vm=vm\n    this.exprOrFn=exprOrFn\n    this.cb=cb\n    this.options=options\n\n    this.user=options.user;//这是一个用户watcher\n\n    this.isWatcher=!!options;//是渲染watcher\n\n\n    this.lazy=options.lazy;//如果watcher上有lazy属性 说明是一个计算属性\n    this.dirty=this.lazy;//dirty代表取值时是否执行用户提供的方法\n\n    this.deps=[];//watcher记录有多少dep依赖他\n    this.depsId=new Set()\n\n    if(typeof exprOrFn==='function'){\n      this.getter=exprOrFn\n    }else{\n      this.getter=function(){\n        // exprOrFn 可能传递过来的是一个字符串a \n        // 当去当前实例上取值时  才会触发依赖收集\n        let path=exprOrFn.split('.');//['a','a','a']\n        let obj=vm\n        for(let i=0;i<path.length;i++){\n          obj=obj[path[i]]\n        }\n\n        return obj\n\n      }\n    }\n\n    // 默认会先调用一次get方法  进行取值  将结果保留下来\n    this.value=this.lazy?void 0:this.get();//默认会调用get方法\n\n\n  }\n\n  evaluate(){\n    this.value=this.get()\n    this.dirty=false;//取过一次值之后  就表示已经取过值了\n  }\n\n  depend(){\n    // 计算属性watcher 会存储dep  dep会存储watcher\n    let i=this.deps.length\n    while(i--){\n      this.deps[i].depend();//让dep去存储渲染watcher\n    }\n\n  }\n\n\n  addDep(dep){\n    let id=dep.id\n    if(!this.depsId.has(id)){\n      this.deps.push(dep)\n      this.depsId.add(id)\n      dep.addSub(this)\n    }\n  }\n\n  get(){\n    pushTarget(this);//当前watcher实例\n    let result=this.getter.call(this.vm);//调用exprOrFn\n    popTarget();\n\n    return result\n  }\n\n  run(){\n    let newValue=this.get();//渲染逻辑\n    let oldValue=this.value\n    if(this.user){\n      this.cb.call(this.vm,newValue,oldValue)\n    }\n  }\n\n  update(){\n    if(this.lazy){//是计算属性\n      this.dirty=true;//页面重新渲染就可以获得最新的值了\n    }else{\n    // 这里不要每次都调用get方法   get方法会重新渲染页面\n    // this.get();//重新渲染\n    queueWatcher(this);//暂存的概念\n    }\n  }\n}\n\n\n\nfunction flushSchedulerQueue(){\n        queue.forEach(watcher=>{\n          watcher.run()\n          // watcher.cb()\n        })\n        queue=[]\n        has={}\n        pending=false\n}\nlet queue=[];//将需要批量更新的watcher 存在一个队列中  稍后让watcher执行\nlet has={}\nlet pending=false\nfunction queueWatcher(watcher){\n  const id=watcher.id;\n  if(has[id]==null){\n    queue.push(watcher)\n    has[id]=true\n    // 等待所有同步代码执行完毕后再执行\n    if(!pending){\n      nextTick(flushSchedulerQueue)\n    }\n  }\n}","import { observer } from \"./observer/index.js\"\nimport { Watcher } from \"./observer/watcher.js\"\nimport { proxy } from \"./utils.js\"\nimport { nextTick } from \"./utils.js\"\nimport Dep from './observer/dep.js'\nexport function initState(vm){\n  const opts=vm.$options\n  if(opts.props){\n    initProps(vm)\n  }\n\n  if(opts.methods){\n    initMethods(vm)\n  }\n\n  if(opts.data){\n    initData(vm)\n  }\n\n  if(opts.computed){\n    initComputed(vm)\n  }\n\n  if(opts.watch){\n    initWatch(vm)\n  }\n\n}\n\nfunction initProps(vm){\n\n}\n\nfunction initMethods(vm){\n\n}\n\nfunction initData(vm){\n  let data=vm.$options.data\n\n  vm._data=data=typeof data=='function'?data.call(vm):data\n  // 数据的劫持方案  对象Object.defineProperty\n  // 数组  单独处理\n\n  // 我去vm上取属性时  帮我将属性的取值代理到vm._data上\n  for(let key in data){\n    proxy(vm,'_data',key)\n  }\n\n  console.log(data,'data')\n\n  // \n\n  observer(data)\n\n}\nfunction initComputed(vm){\n  let computed=vm.$options.computed\n  console.log(computed,'computed1111111')\n  const watchers=vm._computedWatchers={};//用来稍后存放计算属性的watcher\n\n  for(let key in computed){\n    const userDef=computed[key];//取出对应的值来\n    // 获取get方法\n    const getter=typeof userDef=='function'?userDef:userDef.get//watcher\n\n    watchers[key]=new Watcher(vm,getter,()=>{},{\n      lazy:true\n    })//watcher很懒\n\n    // defineComputed\n    defineComputed(vm,key,userDef) \n  }\n\n}\n\nconst sharedPropertyDefinition={}\nfunction defineComputed(target,key,userDef){\n  if(typeof userDef==='function'){\n    sharedPropertyDefinition.get=createComputedGetter(key)//dirty来控制是否调用\n  }else{\n    sharedPropertyDefinition.get=createComputedGetter(key) //需要加缓存\n    sharedPropertyDefinition.set=userDef.set\n  }\n  Object.defineProperty(target,key,sharedPropertyDefinition)\n\n}\n\nfunction createComputedGetter(key){\n  return function(){//此方法是我们包装的方法，每次取值会调用此方法\n    // if(dirty){//判断到底要不要执行用户传递的方法\n    //   // 执行\n    // }\n    const watcher=this._computedWatchers[key];//拿到这个属性对应watcher\n    if(watcher){\n      if(watcher.dirty){//默认肯定是脏的\n        watcher.evaluate();//对当前watcher求值\n      }\n      if(Dep.target){//说明还有渲染watcher 也应该一并收集起来\n        watcher.depend()\n\n      }\n\n      return watcher.value\n    }\n  }\n\n\n}\nfunction initWatch(vm){\n  let watch=vm.$options.watch\n  console.log(watch,'watch')\n  for(let key in watch){\n    const handler=watch[key];//handler可能是数组  字符串  对象  函数\n    if(Array.isArray(handler)){\n      createWatcher(vm,key,handler)\n    }else{\n      createWatcher(vm,key,handler);//字符串  对象  函数\n    }\n  }\n\n}\n\n\nfunction createWatcher(vm,exprOrFn,handler,options={}){\n  if(typeof handler=='object'){\n    options=handler\n    handler=handler.handler;//是一个函数\n  }\n\n  if(typeof handler==='string'){\n    handler=vm[handler];//将实例的方法作为handler\n  }\n\n  // key handler 用户传入的选项\n  return vm.$watch(exprOrFn,handler,options)\n\n}\n\n\nexport function stateMixin(Vue){\n  Vue.prototype.$nextTick=function(cb){\n    nextTick(cb)\n  }\n\n    Vue.prototype.$watch=function(exprOrFn,cb,options){\n\n      //数据应该依赖这个watcher  数据变化后应该让watcher从新执行\n      let watcher=new Watcher(this,exprOrFn,cb,{...options,user:true})\n      if(options.immediate){\n        cb();//如果是immediate应该立即执行\n      }\n\n\n\n  }\n}\n","// <div id=\"app\">hello {{name}} <span>world</span></div>\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名\n\n// ?: 匹配不捕获\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <my:xx>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\n\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)'|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // 匹配 {{name}} 插值表达式\n\n\n\n\n\nexport function parseHTML(html){\n  function createASTElement(tagName,attrs){\n  return {\n    tag:tagName,\n    type:1,\n    children:[],\n    attrs,\n    parent:null\n  }\n\n}\n\nlet root;\nlet currentParent;\nlet stack=[]\nfunction start(tagName,attrs){\n  console.log(tagName,attrs,'tagName  attrs')\n  let element=createASTElement(tagName,attrs)\n  if(!root){\n    root=element\n  }\n\n  currentParent=element  //当前解析的标签 保存起来\n\n  stack.push(element)\n}\n\nfunction end(tagName){\n  console.log(tagName,'end TagName')\n  let element=stack.pop()\n  currentParent=stack[stack.length-1]//取出来之后  把栈中最后一个作为父节点\n  if(currentParent){//在闭合时 可以知道这个标签的父亲是谁\n    element.parent=currentParent\n    currentParent.children.push(element)\n  }\n\n\n\n\n}\n\nfunction chars(text){\n  console.log(text,'text')\n  text=text.replace(/\\s/g,'')\n  if(text){\n    currentParent.children.push({\n      type:3,\n      text\n    })\n  }\n\n}\n\n\n  while(html){//只要html不为空字符串就一直解析\n    let textEnd=html.indexOf('<')\n    if(textEnd==0){\n      // 肯定是标签\n      const startTagMatch=parseTagStart();//开始标签匹配的结果\n      if(startTagMatch){\n        start(startTagMatch.tagName,startTagMatch.attrs)\n\n        continue\n\n      }\n\n      const endTagMatch=html.match(endTag)\n      if(endTagMatch){\n        end(endTagMatch[1])\n        advance(endTagMatch[0].length)\n\n        continue\n      }\n\n\n    }\n\n    let text;\n    if(textEnd>0){//是文本\n      text=html.substring(0,textEnd)\n    }\n\n    if(text){\n      chars(text)\n      advance(text.length)\n      continue\n    }\n\n\n\n\n    break\n\n  }\n\n  function advance(n){//将字符串进行截取操作  再更新html内容\n    html=html.substring(n)\n\n  }\n\n  function parseTagStart(){\n    const start=html.match(startTagOpen)\n\n    if(start){\n      const match={\n        tagName:start[1],\n        attrs:[]\n      }\n\n      advance(start[0].length);//删除开始标签\n\n      // 如果直接是闭合标签了  说明没有属性\n      let end;\n      let attr;\n      // 不是结尾标签  能匹配到属性\n      while(!(end=html.match(startTagClose))&&(attr=html.match(attribute))){\n        match.attrs.push({\n          name:attr[1],\n          value:attr[2]||attr[3]||attr[4]||true\n        })\n        advance(attr[0].length)\n      }\n\n\n      if(end){\n        // 结尾了\n        advance(end[0].length)\n\n        return match\n      }\n    \n    }\n\n  }\n\n  return root\n\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // 全局匹配\n\n\nfunction genProps(attrs){ //id  \"app\"  style \"color:red\"\n  // 如果是style  拼成双{}的形式\n  let str=''\n  for(let i=0;i<attrs.length;i++){\n    let attr=attrs[i]\n    if(attr.name==='style'){\n      let obj={}\n      attr.value.split(\";\").forEach(item => {\n        let [key,value]=item.split(':')\n        obj[key]=value\n        \n      });\n\n      attr.value=obj\n    }\n\n    str+=`${attr.name}:${JSON.stringify(attr.value)},`\n  }\n  return `{${str.slice(0,-1)}}`\n}\n\nfunction gen(node) {\n  if (node.type === 1) {\n    return generate(node);\n  } else {\n    let text = node.text;\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`;\n    }\n\n    let tokens = [];\n    let lastIndex = defaultTagRE.lastIndex = 0;\n    let match, index;\n\n    while ((match = defaultTagRE.exec(text))) {\n      index = match.index;\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      tokens.push(`_s(${match[1].trim()})`);\n      lastIndex = index + match[0].length;\n    }\n\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)));\n    }\n\n    return `_v(${tokens.join('+')})`;\n  }\n}\n\nfunction getChildren(el){\n  const children=el.children\n  if(children){//将所有转化后的儿子用,拼接起来\n    return children.map(child=>gen(child)).join(',')\n\n  }\n\n}\nexport function generate(el){\n  let children=getChildren(el)\n  let code=`_c('${el.tag}',${\n    el.attrs.length?`${genProps(el.attrs)}`:'undefined'\n  \n  }${\n    children?`,${children}`:''\n  })`\n\n\n  return code\n\n}","import { parseHTML } from \"./parse\"\nimport { generate } from \"./generate\"\n\nexport function compileToFunction(template){\n  // html模板 =>render函数\n  // 1.需要将html代码转换成\"ast\"语法树  可以用ast树来描述语言本身\n\n  // 虚拟dom  是用对象来描述节点的\n\n  let ast=parseHTML(template)\n\n   console.log(ast,'ast')\n\n  //  2.优化i静态节点\n\n\n  // 3.通过这棵树 重新生成的代码\n  const code=generate(ast)\n\n  // 4.将字符串变成函数  限制取值范围  通过with来进行取值  稍后调用render函数\n  // 就可以通过改变this  让这个函数内部取到结果了\n  let render=new Function(`with(this){return ${code}}`)\n\n\n  console.log(render)\n\n  return render\n\n\n\n\n\n\n}","export function patch(oldVnode,vnode){\n  if(!oldVnode){//如果是组件 这个oldVnode是undefined\n    return createElm(vnode);//vnode是组件中的内容\n  }\n  if(oldVnode.nodeType==1){//真实的节点\n  // 将虚拟节点转换成真实节点\n  let el=createElm(vnode)//产生真实的dom\n  let parentElm=oldVnode.parentNode;//获取老的app的父亲 =>body\n  parentElm.insertBefore(el,oldVnode.nextSibling) //当前的真实元素插入到app的后面\n  parentElm.removeChild(oldVnode)//删除老的节点\n\n  return el\n  }else{\n    console.log(oldVnode,vnode)\n    // 1.比较两个元素的标签  标签不一样直接替换掉即可\n    if(oldVnode.tag!==vnode.tag){\n      // 老的dom元素\n     return oldVnode.el.parentNode.replaceChild(createElm(vnode),oldVnode.el)\n    }\n\n    // 2.有种可能是标签一样  <div>1</div> <div>2</div>\n    // 文本节点的虚拟节点tag 都是undefined\n    if(!oldVnode.tag){//文本的比对\n      if(oldVnode.text!==vnode.text){\n        return oldVnode.el.textContent=vnode.text\n      }\n\n    }\n\n    // 3.标签一样  并且需要开始比对标签的属性  和  儿子了\n    // 标签一样直接复用即可\n    let el=vnode.el=oldVnode.el;//复用老节点\n\n    // 更新属性  用新的虚拟节点的属性和老的比较 去更新节点\n    updateProperties(vnode,oldVnode.data)\n\n\n    // 比较儿子\n    let oldChildren=oldVnode.children||[]\n    let newChildren=vnode.children||[]\n\n    if(oldChildren.length>0&&newChildren.length>0){\n      // 老的有儿子  新的也有儿子  diff算法\n      updateChildren(oldChildren,newChildren,el)\n\n    }else if(oldChildren.length>0){//新的没有\n      el.innerHTML=''\n    }else if(newChildren.length>0){//老的没有\n      for(let i=0;i<newChildren.length;i++){\n        let child=newChildren[i]\n        // 浏览器有性能优化  不用自己在搞文档碎片了\n        el.appendChild(createElm(child))\n      }\n\n\n    }\n\n  }\n\n}\n\nfunction isSameVnode(oldVnode,newVnode){\n  return oldVnode.tag===newVnode.tag&&oldVnode.key==newVnode.key\n\n}\n\n\nexport function updateChildren(oldChildren,newChildren,parent){\n  // vue 中的diff算法做了跟多优化\n  // DOM中操作有很多常见的逻辑  把节点插入到当前儿子的头部、尾部、儿子倒叙正序\n  // vue2中采用的是双指针的方式\n\n  // 在尾部添加\n  \n  // 我要做一个循环 同时循环老的和新的  哪个先结束  循环就停止  将多余的删除或者添加进去\n\n  // 开头指针\n  let oldStartIndex=0;//老的索引\n  let oldStartVnode=oldChildren[0];//老的索引指向的节点\n  let oldEndIndex=oldChildren.length-1\n  let oldEndVnode=oldChildren[oldEndIndex]\n\n  let newStartIndex=0;\n  let newStartVnode=newChildren[0]\n  let newEndIndex=newChildren.length-1\n  let newEndVnode=newChildren[newEndIndex]\n\n  function makeIndexByKey(children){\n    let map={}\n    children.forEach((item,index)=>{\n     item.key&&(map[item.key]=index);//{0:A,1:B,2:C,3:D}\n    })\n\n    return map\n\n  }\n\n  let map=makeIndexByKey(oldChildren)\n\n\n\n\n\n  // 我要做一个循环  同时循环老的和新的  哪个先结束  循环就停止  将多余的删除或者添加进去\n\n  // 比较谁先循环停止 \n  while(oldStartIndex<=oldEndIndex&&newStartIndex<=newEndIndex){\n    if(!oldStartVnode){//指针指向了null 跳过这次的处理\n      oldStartVnode=oldChildren[++oldStartIndex]\n\n    } else if(!oldEndVnode){\n      oldEndVnode=oldChildren[--oldEndIndex]\n    }else if(isSameVnode(oldStartVnode,newStartVnode)){//如果两人是同一个元素  比对儿子\n      patch(oldStartVnode,newStartVnode);//更新属性和再去递归更新子节点\n\n      oldStartVnode=oldChildren[++oldStartIndex]\n      newStartVnode=newChildren[++newStartIndex]\n\n    }else if(isSameVnode(oldEndVnode,newEndVnode)){\n      patch(oldEndVnode,newEndVnode)\n      oldEndVnode=oldChildren[--oldEndIndex]\n      newEndVnode=newChildren[--newEndIndex]\n\n    }else if(isSameVnode(oldStartVnode,newEndVnode)){//老的尾部和新的头部都比较\n      patch(oldStartVnode,newEndVnode);\n      // 将当前元素插入到尾部的  下一个元素的前面\n      parent.insertBefore(oldStartVnode.el,oldEndVnode.el.nextSibling);\n      oldStartVnode=oldChildren[++oldStartIndex]\n      newEndVnode=newChildren[--newEndIndex]\n\n    }else if(isSameVnode(oldEndVnode,newStartVnode)){\n      patch(oldEndVnode,newStartVnode)\n      parent.insertBefore(oldEndVnode.el,oldStartVnode.el)\n      oldEndVnode=oldChildren[--oldEndIndex]\n      newStartVnode=newChildren[++newStartIndex]\n\n      // 为什么要key  循环的时候为什么不能用index作为key\n      // index为key  就相当于没有key\n      \n    }else{\n      // 儿子之间没有关系...暴力比对\n      let moveIndex=map[newStartVnode.key];//拿到开头的虚拟节点key 去老的中找\n      if(moveIndex==undefined){//不需要移动说明没有key复用的\n        parent.insertBefore(createElm(newStartVnode),oldStartVnode.el)\n\n      }else{\n        let moveVNode=oldChildren[moveIndex];//这个老的虚拟节点需要移动\n        oldChildren[moveIndex]=null\n        parent.insertBefore(moveVNode.el,oldStartVnode.el)\n        patch(moveVNode,newStartVnode)\n      }\n\n      newStartVnode=newChildren[++newStartIndex];//用新的不停的去老的里面找\n    }\n    // 反转节点  头部移动尾部  尾部移动到头部\n\n  }\n\n  if(newStartIndex<=newEndIndex){\n    for(let i=newStartIndex;i<=newEndIndex;i++){\n      // parent.appendChild(createElm(newChildren[i]))\n      // 向后插入ele=null\n      // 向钱插入ele就是当前向谁前面插入\n      let ele=newChildren[newEndIndex+1]==null?null:newChildren[newEndIndex+1].el\n      parent.insertBefore(createElm(newChildren[i]),ele)\n    }\n\n  }\n\n  // 老的节点还有没处理的，说明这些老节点是不需要的节点  如果这里面有null说明，这个节点已经被处理过了，\n  // 跳过即可\n  if(oldStartIndex<=oldEndIndex){\n    for(let i=oldStartIndex;i<=oldEndIndex;i++){\n      let child=oldChildren[i]\n      if(child!==undefined){\n        parent.removeChild(child.el)\n      }\n    }\n\n  }\n\n\n\n}\n\n\nfunction createComponent(vnode){\n  // 调用hook中的init方法\n  let i=vnode.data\n  if((i=i.hook)&&(i=i.init)){\n    i(vnode)\n\n  }\n\n  if(vnode.componentInstance){\n    return true\n  }\n\n}\n\n\nexport function createElm(vnode){\n  console.log(vnode,'createElm')\n  let {tag,children,key,data,text}=vnode\n  if(typeof tag=='string'){ //创建元素  放到vnode.el上\n\n    if(createComponent(vnode)){//组件渲染后的结果  放到当前组件的实例上 vm.$el\n      return vnode.componentInstance.$el;//组件对应的dom元素\n\n    }\n\n\n\n\n\n\n\n\n    vnode.el=document.createElement(tag)\n\n\n    // 只有元素才有属性\n    updateProperties(vnode)\n\n\n\n\n    children.forEach(child => { //遍历儿子  将儿子渲染后的结果扔到父亲中\n      vnode.el.appendChild(createElm(child))\n      \n    });\n  }else{ //创建文件  放到vnode.el上\n    vnode.el=document.createTextNode(text)\n  }\n\n  return vnode.el\n\n}\n\n// vue 的渲染流程=>先初始化数据=>将模板进行编译=>render函数=>生成虚拟节点=>生成真实的dom=>扔到页面上\n\n\nfunction updateProperties(vnode, oldProps = {}) {\n  const newProps = vnode.data || {};\n  const el = vnode.el;\n\n  // 删除老的属性：老的有新的没有\n  for (let key in oldProps) {\n    if (!newProps.hasOwnProperty(key)) {\n      el.removeAttribute(key);\n    }\n  }\n\n  // 样式处理\n  const newStyle = newProps.style || {};\n  const oldStyle = oldProps.style || {};\n\n  // 删除旧样式中新的没有的部分\n  for (let key in oldStyle) {\n    if (!newStyle.hasOwnProperty(key)) {\n      el.style[key] = '';\n    }\n  }\n\n  // 设置新属性\n  for (let key in newProps) {\n    if (key === 'style') {\n      for (let styleName in newStyle) {\n        el.style[styleName] = newStyle[styleName];\n      }\n    } else if (key === 'class') {\n      el.className = newProps.class;\n    } else {\n      el.setAttribute(key, newProps[key]);\n    }\n  }\n}\n","import { patch } from \"./vdom/patch\"\nimport { Watcher } from \"./observer/watcher\"\nexport function lifecycleMixin(Vue){\n  Vue.prototype._update=function(vnode){\n    console.log(vnode,'vnode')\n    const vm=this\n    // 这里需要区分一下  到底是首次渲染还是更新\n    const prevVnode=vm._vnode  //如果第一次_vnode不存在\n\n    if(!prevVnode){\n      // 用新撞见的元素  替换老的vm.$el\n      vm.$el=patch(vm.$el,vnode)\n    }else{\n      vm.$el=patch(prevVnode,vnode)\n    }\n\n    vm._vnode=vnode //保存第一次的vnode\n\n    // vm.$el=patch(vm.$el,vnode)\n\n  }\n\n}\nexport function mountComponent(vm,el){\n  callHook(vm,'beforeMount')\n  // 调用render方法去渲染  el属性\n\n  // 先调用render方法创建虚拟节点  再将虚拟节点渲染到页面上\n  // vm._update(vm._render())\n  let updateComponent=()=>{\n    vm._update(vm._render())\n  }\n\n  // 这个watcher是用来渲染的   暂时没有任何功能\n  let watch=new Watcher(vm,updateComponent,()=>{\n    callHook(vm,'beforeUpdate')\n  },true)\n\n  callHook(vm,'mounted')\n\n}\n\n\n// callHook(vm,'beforeCreate')\nexport function callHook(vm,hook){\n  const handlers=vm.$options[hook]\n  if(handlers){\n    for(let i=0;i<handlers.length;i++){\n      handlers[i].call(vm)\n    }\n  }\n\n}","import { initState } from \"./state\"\nimport {compileToFunction} from './compiler/index.js'\nimport {callHook, mountComponent} from './lifecycle.js'\nimport { mergeOptions } from \"./utils.js\"\nexport function initMixin(Vue){\n  Vue.prototype._init=function(options){\n    const vm=this\n    // vm.$options=options\n    vm.$options=mergeOptions(vm.constructor.options,options)\n\n    console.log(vm.$options,'vm.$option')\n    callHook(vm,'beforeCreate')\n    initState(vm)\n    callHook(vm,'created')\n\n\n    // 如果当前有el属性说明要渲染模板\n    if(vm.$options.el){\n      vm.$mount(vm.$options.el)\n\n    }\n\n  }\n\n\n  Vue.prototype.$mount=function(el){\n    // 挂载操作\n    const vm=this;\n    const options=vm.$options\n    el=document.querySelector(el)\n    vm.$el=el;\n\n    if(!options.render){\n      let template=options.template\n      if(!template&&el){\n        template=el.outerHTML\n      }\n\n      // 将模板转换成render函数\n      const render=compileToFunction(template)\n\n      options.render=render\n\n    }\n\n    // 渲染时用的就是这个render\n    // 需要挂载这个组件\n    mountComponent(vm,el)\n\n  }\n}\n\n\n","import { isReservedTag } from \"../utils\"\n\nexport function renderMixin(Vue){\n  Vue.prototype._c=function(){//创建虚拟dom元素\n    return createElement(this,...arguments)\n\n  }\n\n  Vue.prototype._s=function(val){//stringify\n    return val==null?'':(typeof val === 'object')?JSON.stringify(val):val\n\n  }\n\n  Vue.prototype._v=function(text){//创建虚拟dom文本元素\n    return createTextVnode(text)\n  }\n  Vue.prototype._render=function(){\n    const vm=this\n    const render=vm.$options.render\n    \n    return render.call(vm)\n\n  }\n\n}\n\n//  _c('div',{},1,2,3,4,5)\nfunction createElement(vm,tag,data={},...children){\n  // 如果是组件 我产生虚拟接待你时 需要把组件的构造函数传入\n  // new Ctor().$mount()\n  // 根据tag名字 需要判断他是不是一个组件\n\n  // const vm=this\n\n  if(isReservedTag(tag)){\n    return vnode(tag,data,data.key,children)\n  }else{\n    let Ctor=vm.$options.components[tag]\n    // 创建组件的虚拟节点  children就是组件的插槽了\n\n    return createComponent(vm,tag,data,data.key,children,Ctor)\n  }\n}\n\nfunction createComponent(vm,tag,data,key,children,Ctor){\n  const baseCtor=vm.$options._base;//Vue\n  if(typeof Ctor=='object'){\n    Ctor=baseCtor.extend(Ctor)\n  }\n\n  // 给组件增加生命周期\n  data.hook={//稍后初始化组件时  会调用此init方法\n    init(vnode){\n      let child=vnode.componentInstance=new Ctor({});\n      child.$mount();//挂载逻辑  组件的$mount方法中不传递参数的\n\n      // vnode.componentInstance.$el 指代的是当前组件的真实dom\n    }\n  }\n\n  // vue-component-0-app\n  return vnode(`vue-component-${Ctor.cid}-${tag}`,data,key,undefined,undefined,{Ctor,children})\n\n}\n\nfunction createTextVnode(text){\n  console.log(text,'text')\n  return vnode(undefined,undefined,undefined,undefined,text)\n}\n\n// 用来产生虚拟的\nfunction vnode(tag,data,key,children,text,componentOptions){\n  return {\n    tag,\n    data,\n    key,\n    children,\n    text,\n    componentOptions//组件的虚拟节点他多一个componentOptions属性  用来保存当前组件的构造函数和他的插槽\n  }\n\n}","import { mergeOptions } from \"../utils\"\n\nexport default function initExtend(Vue){\n  let cid=0\n\n  // 核心就是创建一个子类继承我们得父类\n  Vue.extend=function(extendOptions){\n    // 如果对象相同  应该复用构造函数(缓存)\n    const Super=this\n    const Sub=function VueComponent(options){\n      this._init(options)\n\n    }\n\n    Sub.cid=cid++\n\n    // 子类要继承父类原型上得方法  原型继承\n    Sub.prototype=Object.create(Super.prototype)\n    Sub.prototype.constructor=Sub\n\n\n    Sub.options=mergeOptions(\n      Super.options,\n      extendOptions\n    )\n\n    Sub.components=Super.components\n    // ...\n\n    return Sub\n\n\n  }\n\n}\n\n\n// 组件得渲染流程\n// 1.调用Vue.component\n// 2.内部用Vue.extend 就是产生一个子类来继承父类\n// 3.等会创建子类实例时会调用父类的_init方法\n// 4.组件的初始化就是new 这个组件的构造函数并且调用$mount方法\n\n\n","import { mergeOptions } from \"../utils\";\nimport initExtend from \"./extend\";\nexport function initGlobalApi(Vue){\n  Vue.options={};\n  Vue.mixin=function(mixin){\n    // 合并对象  (我先考虑生命周期)  不考虑其他的合并   data computed watch\n    this.options=mergeOptions(this.options,mixin)\n    // this.options={created:[a(){},b(){}]}\n\n  }\n\n\n  Vue.options._base=Vue;//_base 最终的Vue的构造函数我保留在options对象中\n  Vue.options.components={}\n\n  initExtend(Vue)\n\n\n  Vue.component=function (id,definition){\n    // Vue.extend\n    definition.name=definition.name||id;//默认会以name属性为准\n    // 根据当前组件对象  生成了一个子类的构造函数\n    // 用的时候得 new definition().$mount()\n    definition=this.options._base.extend(definition);//永远是父类\n\n    // Vue.component 注册组件  等价于Vue.options.components[id]=definition\n    Vue.options.components[id]=definition\n\n  }\n\n}","import { initMixin } from \"./init\"\nimport { lifecycleMixin } from \"./lifecycle\"\nimport { renderMixin, } from \"./vdom/index\"\nimport { initGlobalApi } from \"./global-api/index\"\nimport {stateMixin} from './state'\nfunction Vue(options){\n  this._init(options)//入口方法  做初始化操作\n\n\n}\n\n\n\ninitMixin(Vue)\nlifecycleMixin(Vue)\nrenderMixin(Vue)\nstateMixin(Vue)\n\n\ninitGlobalApi(Vue)\n\n// 初始化方法\n\n// // 为了看到diff的整个流程  创建两个虚拟节点来进行比对操作\n// import { compileToFunction } from \"./compiler/index\"\n// import { createElm,patch} from \"./vdom/patch\"\n// let vm1=new Vue({\n//   data:{\n//     name:'zf11111111'\n//   }\n// })\n\n// let render1=compileToFunction('<div><li style=\"background:red\" key=\"1\">A</li></div>')\n// let vnode1=render1.call(vm1)//render方法返回的是虚拟dom\n// createElm(vnode1)\n\n// document.body.appendChild(createElm(vnode1))\n\n// let vm2=new Vue({\n//   data:{\n//     name:'jw'\n//   }\n// })\n// let render2=compileToFunction('<div><li style=\"background:red\" key=\"1\">C</li><li style=\"background:yellow\">B</li></div>')\n// let vnode2=render2.call(vm2)\n\n// setTimeout(()=>{\n//   patch(vnode1,vnode2);//传入新的虚拟节点和老的  做一个对比\n// },1000)\n\n\n\n\n// new Vue({\n//   data:{\n//     name:'jw'\n//   }\n// })\n\n\n\n\nexport default Vue"],"names":["oldArrayProtoMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","_len","arguments","length","args","_key","result","apply","inserted","ob","__ob__","slice","observeArray","dep","notify","proxy","vm","data","key","defineProperty","get","set","newValue","target","value","enumerable","configurable","LIFECYCLE_HOOKS","strats","components","parentVal","childVal","res","childValue","mergeHook","concat","hook","mergeOptions","parent","child","console","log","options","mergeField","hasOwnProperty","callbacks","pending","flushCallbacks","cb","timerFunc","Promise","resolve","then","MutationObserver","observe","textNode","document","createTextNode","characterData","textContent","setImmediate","setTimeout","nextTick","fun","push","makeMpa","str","mapping","list","split","i","isReservedTag","id","Dep","_classCallCheck","subs","_createClass","depend","addDep","addSub","watcher","update","stack","pushTarget","popTarget","pop","Observer","isArray","__proto__","walk","item","observer","keys","defineReactive","childDep","_typeof","Watcher","exprOrFn","undefined","user","isWatcher","lazy","dirty","deps","depsId","Set","getter","path","obj","evaluate","has","add","call","run","oldValue","queueWatcher","flushSchedulerQueue","queue","initState","opts","$options","props","initData","computed","initComputed","watch","initWatch","_data","watchers","_computedWatchers","userDef","defineComputed","sharedPropertyDefinition","createComputedGetter","handler","createWatcher","$watch","stateMixin","Vue","$nextTick","_objectSpread","immediate","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createASTElement","tagName","attrs","tag","type","children","root","currentParent","start","element","end","chars","text","replace","textEnd","indexOf","startTagMatch","parseTagStart","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","_loop","_item$split","_item$split2","_slicedToArray","JSON","stringify","gen","node","generate","test","tokens","lastIndex","index","exec","trim","join","getChildren","el","map","code","compileToFunction","template","ast","render","Function","patch","oldVnode","vnode","createElm","nodeType","parentElm","parentNode","insertBefore","nextSibling","removeChild","replaceChild","updateProperties","oldChildren","newChildren","updateChildren","innerHTML","appendChild","isSameVnode","newVnode","oldStartIndex","oldStartVnode","oldEndIndex","oldEndVnode","newStartIndex","newStartVnode","newEndIndex","newEndVnode","makeIndexByKey","moveIndex","moveVNode","ele","createComponent","init","componentInstance","$el","createElement","oldProps","newProps","removeAttribute","newStyle","style","oldStyle","styleName","className","setAttribute","lifecycleMixin","_update","prevVnode","_vnode","mountComponent","callHook","updateComponent","_render","handlers","initMixin","_init","constructor","$mount","querySelector","outerHTML","renderMixin","_c","_s","val","_v","createTextVnode","Ctor","baseCtor","_base","extend","cid","componentOptions","initExtend","extendOptions","Super","Sub","VueComponent","initGlobalApi","mixin","component","definition"],"mappings":"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"}